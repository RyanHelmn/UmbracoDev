(function(e){function t(t){for(var i,o,a=t[0],c=t[1],l=t[2],u=0,h=[];u<a.length;u++)o=a[u],s[o]&&h.push(s[o][0]),s[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(h.length)h.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,a=1;a<n.length;a++){var c=n[a];0!==s[c]&&(i=!1)}i&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},s={catalogs:0},r=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var d=c;r.push([1,"chunk-vendors"]),n()})({"08c3":function(e,t,n){"use strict";var i=n("117e"),s=n.n(i);s.a},"08ff":function(e,t,n){"use strict";var i=n("5cbe"),s=n.n(i);s.a},"0f23":function(e,t,n){"use strict";var i=n("3f2a"),s=n.n(i);s.a},1:function(e,t,n){e.exports=n("1d1a")},1083:function(e,t,n){},"117e":function(e,t,n){},1372:function(e,t,n){},"13c3":function(e,t,n){},"16e9":function(e,t,n){"use strict";var i=n("2dcc"),s=n.n(i);s.a},"1d1a":function(e,t,n){"use strict";n.r(t);n("cd13"),n("cadf"),n("551c"),n("f751"),n("097d");var i,s,r,o=n("15a6"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},c=[],l=(n("f885"),n("43ad"),n("cebc")),d=(n("85aa"),n("3b8d")),u={Umbraco:{"--selection-color":"","--header-bg":"","--header-border":"","--header-color":""},Sitecore:{"--selection-color":"","--header-bg":"","--header-border":"","--header-color":""},Kentico:{"--selection-color":"","--header-bg":"","--header-border":"","--header-color":""},Sitefinity:{"--selection-color":"","--header-bg":"","--header-border":"","--header-color":""}},h=n("7b6e"),f={name:"root-app",created:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("system");case 2:t=e.sent,n=t.data,this.applyCMSTheme(n.cms),this.setSystemInfo(n),this.setContentLanguage(n.languages.length?n.languages[0].cultureCode:null),this.setUiLanguage(n.currentCultureCode?n.currentCultureCode.substr(0,2):null);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:Object(l["a"])({},Object(h["e"])(["setSystemInfo","setContentLanguage","setUiLanguage"]),{applyCMSTheme:function(e){var t=document.documentElement,n=u[e];Object.keys(n).forEach(function(e){t.style.setProperty(e,n[e])})}})},g=f,p=n("2877"),m=Object(p["a"])(g,a,c,!1,null,null,null),v=m.exports,b=n("8054"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"catalogs",class:{dragging:e.dragging}},[e._m(0),n("section",{staticClass:"catalogs__builder-outer"},[n("cat-builder",{ref:"builder"}),n("div",{staticClass:"catalogs__builder-resize-outer"},[n("div",{staticClass:"catalogs__builder-resize-inner",on:{mousedown:e.onMousedown}})])],1),n("details-view",{on:{deleted:e.selectParent,resurrected:e.reload,change:e.detailsChanged}}),n("undo",{attrs:{undos:e.undos},on:{undo:e.executeUndo}}),e.errorMessage?n("form-feedback",{attrs:{type:"error"}},[e._v(e._s(e.errorMessage))]):e._e()],1)},w=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"catalogs__header"},[n("h1",[e._v("Catalogs")])])}],_=(n("fb40"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("store-selector"),n("section",{ref:"builder",staticClass:"cat-builder",on:{click:e.setFocus,keydown:[e.keydownHandler,function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hideCreate(t)}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?null:t.ctrlKey&&t.altKey?"button"in t&&2!==t.button?null:"button"in t&&0!==t.button?null:e.moveCreateWidget(t):null}}},[n("div",{ref:"inner",staticClass:"cat-builder__inner",style:{transform:e.xPosition}},[n("div",{staticClass:"cat-builder__header"}),e._l(e.treeSections,function(t,i){return n("tree-section",{key:i,ref:"section",refInFor:!0,attrs:{section:t},on:{nodeSelected:e.nodeSelected,nodeDropped:e.nodeDropped,nodeCreated:e.nodeCreated,needsMoreCats:e.loadMoreCats}})})],2),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showScroll,expression:"showScroll"}],staticClass:"builder__scrollbar"},[n("div",{ref:"scroller",staticClass:"builder__scroll-handle",class:{scrolling:e.scrolling},style:{width:e.scrollerWidthPercent+"%",transform:"translate3d("+e.scrollerPosition+"px, 0, 0)"}})])])],1)],1)}),x=[],C=(n("009d"),n("c875"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("uc-select",{staticClass:"store-selector",attrs:{label:"Stores",options:e.stores,selected:e.selectedStore,placeholder:"Select a store"},on:{selected:e.setSelectedStore}})}),S=[],O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-select",class:{readonly:e.readonly}},[e.label?n("label",{staticClass:"uc-select__label input-label",attrs:{for:e.id}},[e._v(e._s(e.label))]):e._e(),n("div",{staticClass:"uc-select__selected",attrs:{id:e.id},on:{click:e.toggleOptions}},[e._v(e._s(e.selectedText))]),n("div",{staticClass:"uc-select__arrow",class:{toggled:e.optionsToggled},on:{click:e.toggleOptions}},[n("triangle")],1),n("transition",{attrs:{name:"dropdown"}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:e.showOptions,expression:"showOptions"}],staticClass:"uc-select__options dropdown-overlay"},e._l(e.filteredOptions,function(t){return n("li",{key:t.value,staticClass:"uc-select__option",on:{click:function(n){return e.selectOption(t)}}},[e._v(e._s(t.label))])}),0)])],1)},k=[],I=(n("7514"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},[n("title",[e._v("triangle right")]),n("g",[n("path",{attrs:{d:"M14,7.999c0-0.326-0.159-0.632-0.427-0.819l-10-7C3.269-0.034,2.869-0.058,2.538,0.112 C2.207,0.285,2,0.626,2,0.999v14.001c0,0.373,0.207,0.715,0.538,0.887c0.331,0.17,0.73,0.146,1.035-0.068l10-7 C13.841,8.633,14,8.327,14,8.001C14,8,14,8,14,7.999C14,8,14,8,14,7.999z"}})])])}),j=[],T={},N=Object(p["a"])(T,I,j,!1,null,null,null),D=N.exports,P=(n("6b54"),function(){return"id"+Math.random().toString(36).slice(2,9)}),M={name:"uc-select",data:function(){return{id:0,optionsToggled:!1}},props:{options:Array,selected:String,label:String,placeholder:{Type:String,default:"Select an option"},readonly:Boolean},computed:{selectedOption:function(){var e=this;return this.options?this.options.find(function(t){return t.guid===e.selected}):""},selectedText:function(){return this.selectedOption?this.selectedOption.label:this.placeholder},showOptions:function(){return this.optionsToggled&&!this.readonly&&this.options.length>0},filteredOptions:function(){var e=this;return this.options.filter(function(t){return t!==e.selectedOption})}},methods:{toggleOptions:function(e){var t=this;this.readonly||(e.preventDefault(),this.optionsToggled=!this.optionsToggled,this.optionsToggled&&window.setTimeout(function(){window.addEventListener("click",t.closeHandler)},10))},selectOption:function(e){this.readonly||(this.$emit("selected",e),this.optionsToggled=!1)},closeHandler:function(e){this.optionsToggled=!1,window.removeEventListener("click",this.closeHandler)}},components:{Triangle:D},created:function(){this.id=P()}},$=M,L=(n("a970"),Object(p["a"])($,O,k,!1,null,null,null)),E=L.exports,G=function(e){return e.map(function(e){return{label:e.name,guid:e.guid}})},H=Object(h["a"])("builder"),W=H.mapGetters,R=H.mapMutations,U={name:"store-selector",components:{UcSelect:E},computed:Object(l["a"])({},W(["selectedStore","stores"])),methods:Object(l["a"])({},R(["setSelectedStore","setStores"]),{getStores:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("/stores");case 2:if(t=e.sent,n=G(t.data),this.setStores(n),this.stores.length){e.next=7;break}return e.abrupt("return");case 7:this.setSelectedStore(this.stores[0]);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}),created:function(){this.getStores()}},z=U,B=(n("b19a"),Object(p["a"])(z,C,S,!1,null,null,null)),V=B.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"section",staticClass:"cat-builder__section",style:{width:e.sectionWidth+"px",height:e.sectionHeight+"px"},on:{dragenter:e.sectionEnter,mouseenter:e.mouseenterHandler,mouseleave:e.mouseleaveHandler}},[n("header",{class:e.sectionClasses,on:{dragenter:e.headerDragenter,dragleave:e.headerDragleave,dragover:e.headerDragover,drop:function(t){return t.preventDefault(),t.stopPropagation(),e.headerDrop(t)}}},[n("span",[e._v(e._s(e.section.name))])]),n("div",{ref:"body",staticClass:"section__body",on:{dragover:e.bodyDragover,drop:e.bodyDrop,scroll:e.checkIfMoreItemsNeeded}},[e._l(e.section.categories,function(t,i){return[n("drop-target",{key:i,attrs:{targetIndex:i,sortOrder:t.sortOrder,visibleIndex:e.visibleTargetIndex,sectionGuid:e.section.guid},on:{dropped:e.targetDrop}}),n("tree-node",{key:t.guid,ref:"node",refInFor:!0,attrs:{cat:t,"parent-guid":e.section.guid,parentName:e.section.name,"cat-index":i},on:{selected:function(t){return e.$emit("nodeSelected",t)},nodeDropped:e.nodeDropped}})]}),n("drop-target",{attrs:{targetIndex:99999,sortOrder:0,visibleIndex:e.visibleTargetIndex,sectionGuid:e.section.guid},on:{dropped:e.bodyDrop}}),n("div",{ref:"remaining",staticClass:"section__remaining-items-placeholder",style:e.remainingItemsStyle})],2),n("transition",{attrs:{name:"fade"}},[n("create-node",{directives:[{name:"show",rawName:"v-show",value:e.showCreateTriggerComp,expression:"showCreateTriggerComp"}],ref:"creator",attrs:{nodeType:e.sectionNodeType,parentInfo:e.createPayload},on:{nodeCreated:function(t){return e.$emit("nodeCreated",t)}}})],1)],1)},F=[],Y=n("bd86"),X="productCatalog",J="productCategory",K="store",q=(i={},Object(Y["a"])(i,X,"catalogs"),Object(Y["a"])(i,J,"categories"),Object(Y["a"])(i,K,"stores"),i),Z=(s={},Object(Y["a"])(s,X,"13bc5d9d-e201-4760-8ca4-2f30dfd1e422"),Object(Y["a"])(s,J,"58505939-d974-4985-bd9d-89ac2abf8b14"),Object(Y["a"])(s,K,null),s),Q=(r={},Object(Y["a"])(r,X,"catalog"),Object(Y["a"])(r,J,"category"),r),ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"node",staticClass:"cat-builder__node",class:e.classes,attrs:{tabindex:"0",id:e.cat.guid,draggable:"true"},on:{click:e.clickHandler,dragstart:e.dragstartHandler,dragend:e.dragendHandler,dragenter:e.dragenterHandler,dragleave:e.dragleaveHandler,dragover:e.dragoverHandler,drop:function(t){return t.preventDefault(),t.stopPropagation(),e.dropHandler(t)}}},[n("span",[e._v(e._s(e.cat.name))]),n("right-arrow",{directives:[{name:"show",rawName:"v-show",value:e.cat.hasChildren,expression:"cat.hasChildren"}]})],1)},te=[],ne=(n("3876"),Object(h["a"])("builder")),ie=ne.mapGetters,se=ne.mapMutations,re={name:"tree-node",data:function(){return{hoverMsBeforeLoad:1e3,dragOverTimestamp:null,emitTypes:{selected:"selected",changeSection:"changeSection"},isDropzone:!1,dragClone:null}},props:{cat:Object,catIndex:Number,parentGuid:String,parentName:String},computed:Object(l["a"])({},ie(["dragInfo","treeSections"]),{classes:function(){return{selected:this.cat.selected,displaying:this.cat.displaying,dragging:this.dragging,dropzone:this.isDropzone}},dragging:function(){return this.dragInfo.dragging&&this.dragInfo.node.guid===this.cat.guid},height:function(){return this.$el.clientHeight},canDrop:function(){return!!this.dragInfo.dragging&&(this.cat.guid!==this.dragInfo.node.guid&&(this.dragInfo.node.nodeType!==X&&this.dragInfo.node.guid!==this.parentGuid))}}),components:{RightArrow:D},methods:Object(l["a"])({},se(["setDragInfo","endDrag"]),{clickHandler:function(e){e.stopPropagation(),this.setFocus(),this.select()},setFocus:function(){this.$el.focus()},dragstartHandler:function(e){var t={dragging:!0,node:this.cat,catIndex:this.catIndex,parentGuid:this.parentGuid,currentSectionGuid:this.parentGuid};this.setDragInfo(t),this.dragClone=this.$el.cloneNode(!0),this.dragClone.classList.add("drag-clone"),this.dragClone.id="",document.body.appendChild(this.dragClone),e.dataTransfer.setData("text","anything"),e.dataTransfer.effectAllowed="move",e.dataTransfer.setDragImage(this.dragClone,e.offsetX,e.offsetY)},dragendHandler:function(){this.endDrag(),document.body.removeChild(this.dragClone),this.dragClone=null},dragenterHandler:function(e){this.canDrop&&(this.dragOverTimestamp=e.timeStamp,this.isDropzone=!0)},dragleaveHandler:function(){this.isDropzone=!1,this.dragOverTimestamp=null},dragoverHandler:function(e){this.cat.guid!==this.dragInfo.node.guid&&this.canDrop&&(e.preventDefault(),e.dataTransfer.dropEffect="move",window.performance.now()-this.dragOverTimestamp>this.hoverMsBeforeLoad&&(this.dragOverTimestamp=e.timeStamp,this.select()))},dropHandler:function(e){if(this.isDropzone=!1,this.canDrop){var t={parentGuid:this.cat.guid,sortOrder:null,newIndex:-1,catalogGuid:this.cat.nodeType===X?this.cat.guid:void 0,name:this.cat.name||this.parentName};this.$emit("nodeDropped",t)}},emitDragEvent:function(e,t){this.lastDragEmit!==e&&(this.lastDragEmit=e,this.$emit(e,t))},select:function(){this.$emit(this.emitTypes.selected,{parentGuid:this.parentGuid,cat:this.cat})}})},oe=re,ae=(n("7d9a"),Object(p["a"])(oe,ee,te,!1,null,"e2476d02",null)),ce=ae.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"target"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"section__drop-target",on:{drop:function(t){return t.preventDefault(),t.stopPropagation(),e.drop(t)},dragover:function(t){return t.preventDefault(),e.dragover(t)}}})])},de=[],ue=Object(h["a"])("builder"),he=ue.mapGetters,fe={name:"drop-target",props:{sortOrder:Number,targetIndex:Number,visibleIndex:Number,sectionGuid:String},computed:Object(l["a"])({},he(["dragInfo"]),{show:function(){return this.targetIndex===this.visibleIndex&&this.dragInfo.currentSectionGuid===this.sectionGuid}}),methods:{drop:function(){this.$emit("dropped",this.sortOrder)},dragover:function(e){e.dataTransfer.dropEffect="move"}}},ge=fe,pe=(n("23fb"),Object(p["a"])(ge,le,de,!1,null,null,null)),me=pe.exports,ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"builder__create",class:{toggled:e.inputVisible},on:{click:function(e){e.stopPropagation()}}},[n("a",{directives:[{name:"show",rawName:"v-show",value:!e.inputVisible,expression:"!inputVisible"}],staticClass:"builder__create__link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.showInput(t)}}},[e._v(e._s(e.addLabel))]),n("form",{directives:[{name:"show",rawName:"v-show",value:e.inputVisible,expression:"inputVisible"}],staticClass:"builder__create__form",on:{submit:function(t){return t.preventDefault(),e.createNewNode(t)}}},[n("uc-text",{ref:"input",attrs:{placeholder:e.placeholder,value:e.newName},on:{input:e.updateName}}),n("span",{directives:[{name:"show",rawName:"v-show",value:e.errorMessage.length,expression:"errorMessage.length"}],staticClass:"builder__create__error"},[e._v(e._s(e.errorMessage))]),n("div",[n("uc-button",{attrs:{text:"Add",type:"submit",primary:!0}}),n("uc-button",{staticClass:"builder__create__cancel",attrs:{text:"Cancel",primary:!1},on:{click:e.hideInput}})],1)],1)])},be=[],ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-text-input",class:{big:"big"===e.size}},[e.label?n("label",{staticClass:"uc-text-input__label input-label",class:{error:e.error},attrs:{for:e.id}},[e._v(e._s(e.label))]):e._e(),n("input",{ref:"field",staticClass:"uc-text-input__input",class:{big:"big"===e.size},attrs:{type:"text",id:e.id,disabled:e.readonly,placeholder:e.placeholder},domProps:{value:e.value},on:{input:e.emitValue,focus:function(t){return e.$emit("focus",t)},blur:function(t){return e.$emit("blur",t)}}})])},we=[],_e={name:"uc-text-input",data:function(){return{id:null}},props:{label:String,placeholder:String,value:String,readonly:Boolean,error:String,size:{type:String,default:function(){return"small"}}},methods:{emitValue:function(e){this.$emit("input",e.target.value)},focus:function(){this.$refs.field.focus()}},created:function(){this.id=P()}},xe=_e,Ce=(n("296a"),Object(p["a"])(xe,ye,we,!1,null,"0a6b6153",null)),Se=Ce.exports,Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"uc-button",class:{primary:e.primary},attrs:{type:e.type},on:{click:e.clicked}},[e._v(e._s(e.text))])},ke=[],Ie={name:"uc-button",props:{text:String,disabled:Boolean,primary:Boolean,type:String},methods:{clicked:function(e){this.$emit("click",e)}}},je=Ie,Te=(n("0f23"),Object(p["a"])(je,Oe,ke,!1,null,null,null)),Ne=Te.exports,De=Object(h["a"])("builder"),Pe=De.mapGetters,Me={name:"create-node",data:function(){return{inputVisible:!1,newName:"",errorMessage:""}},props:{nodeType:String,parentInfo:Object},components:{UcText:Se,UcButton:Ne},computed:Object(l["a"])({},Pe(["selectedStore"]),{addLabel:function(){return"Add new ".concat(Q[this.nodeType]," (c)")},placeholder:function(){return"C".concat(Q[this.nodeType].substr(1)," name")}}),methods:{showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick().then(function(){e.$refs.input.focus()})},hideInput:function(){this.inputVisible=!1,this.errorMessage=""},updateName:function(e){this.newName=e,this.errorMessage=""},createNewNode:function(){var e=this;if(this.newName.trim().length){var t=Object(l["a"])({},this.parentInfo,{sortOrder:0,name:this.newName});this.nodeType===X&&(t.storeGuid=this.selectedStore),this.axios.post("".concat(q[this.nodeType]),t).then(function(t){e.newName="",e.$emit("nodeCreated",{isCatalog:e.nodeType===X,parentGuid:e.parentInfo.parentGuid}),e.$refs.input.focus()}).catch(function(t){400===t.response.status&&(e.errorMessage=t.response.data.Message)})}}}},$e=Me,Le=(n("b420"),Object(p["a"])($e,ve,be,!1,null,null,null)),Ee=Le.exports,Ge=Object(h["a"])("builder"),He=Ge.mapGetters,We=Ge.mapMutations,Re={name:"tree-section",data:function(){return{headerEnterTimer:null,showCreateTrigger:!1,visibleTargetIndex:-1}},props:{section:Object},computed:Object(l["a"])({},He(["sectionWidth","sectionHeight","dragInfo","selectedCatalog","displayedNodePosition"]),{remainingItemsStyle:function(){var e=this.section.categories.length&&this.section.categoriesCount&&!this.section.endOfList?35:0,t=e*(this.section.categoriesCount-this.section.categories.length);return{height:"".concat(t,"px")}},sectionClasses:function(){return{"no-drop":!this.canDrop}},canDrop:function(){return!!this.dragInfo.dragging&&this.dragInfo.node.guid!==this.section.guid},isSectionOfOrigin:function(){return this.dragInfo.parentGuid===this.section.guid},draggingCategoryIntoCatalogSection:function(){if(this.dragInfo.dragging)return 0===this.section.position&&this.dragInfo.node.nodeType===J},sectionNodeType:function(){return 0===this.section.position?X:J},createPayload:function(){var e={};return this.selectedCatalog?(this.sectionNodeType!==K&&(e.parentCategoryId=this.section.guid===this.selectedCatalog.guid?null:this.section.guid,e.productCatalogId=this.selectedCatalog.guid,e.parentGuid=this.section.guid),e):e},showCreateTriggerComp:function(){return this.showCreateTrigger&&!this.dragInfo.dragging},createVisible:function(){return this.$refs.creator.inputVisible}}),methods:Object(l["a"])({},We(["setDragSectionGuid"]),{showCreate:function(){this.createVisible||(this.showCreateTrigger=!0,this.$refs.creator.showInput())},hideCreate:function(){this.createVisible&&(this.$refs.creator.hideInput(),this.showCreateTrigger=!1)},mouseenterHandler:function(){this.showCreateTrigger=!0},mouseleaveHandler:function(){this.$refs.creator.inputVisible||(this.showCreateTrigger=!1,this.$refs.creator.hideInput(!1))},sectionEnter:function(){this.setDragSectionGuid(this.section.guid)},bodyDragover:function(e){if(this.canDrop)if(e.preventDefault(),e.dataTransfer.dropEffect="move",this.draggingCategoryIntoCatalogSection)this.updateVisibleTargetIndex(-1);else if(!e.target.classList.contains("section__drop-target"))if(e.target.classList.contains("section__body"))this.updateVisibleTargetIndex(99999);else if(e.target.id!==this.dragInfo.node.guid)if(e.offsetY<9||e.offsetY>26){var t=e.target.offsetTop+e.offsetY;this.updateVisibleTargetIndex(Math.round(t/35))}else this.updateVisibleTargetIndex(-1);else this.updateVisibleTargetIndex(-1)},updateVisibleTargetIndex:function(e){e!==this.visibleTargetIndex&&(this.visibleTargetIndex=e)},bodyDrop:function(e){if(this.canDrop&&!this.draggingCategoryIntoCatalogSection){e&&e.preventDefault();var t=this.section.categories.length,n=t?this.section.categories[t-1].sortOrder+1:0;this.dropNode(n,t)}},targetDrop:function(e){var t=this.visibleTargetIndex;this.isSectionOfOrigin&&this.dragInfo.catIndex<this.visibleTargetIndex&&(t=this.visibleTargetIndex-1),this.dropNode(e,t)},headerDragenter:function(e){var t=this;this.canDrop&&!this.draggingCategoryIntoCatalogSection&&(this.headerEnterTimer=window.setTimeout(function(){e.target.classList.add("can-drop"),t.updateVisibleTargetIndex(-1),t.headerEnterTimer=void 0},500))},headerDragleave:function(e){this.headerEnterTimer&&(window.clearTimeout(this.headerEnterTimer),this.headerEnterTimer=void 0),e.target.classList.remove("can-drop")},headerDragover:function(e){this.canDrop&&!this.draggingCategoryIntoCatalogSection&&(e.preventDefault(),e.dataTransfer.dropEffect="move")},headerDrop:function(){this.dropNode(null,-1)},dropNode:function(e,t){var n={parentGuid:this.section.guid,sortOrder:e,newIndex:t,name:this.section.name};this.nodeDropped(n)},nodeDropped:function(e){this.$emit("nodeDropped",e),this.updateVisibleTargetIndex(-1)},resetScroll:function(){this.$refs.body.scrollTop=0},getScrollPosition:function(){return this.$refs.body.scrollTop},setScrollPosition:function(e){this.$refs.body.scrollTop=e},checkIfMoreItemsNeeded:function(){var e=this.$refs.remaining,t=this.$refs.body;if(e&&t){var n=e.getBoundingClientRect().top,i=n<2*t.offsetHeight;i&&this.$emit("needsMoreCats",this.section)}}}),components:{TreeNode:ce,CreateNode:Ee,DropTarget:me}},Ue=Re,ze=(n("c696"),Object(p["a"])(Ue,A,F,!1,null,"5925154e",null)),Be=ze.exports,Ve=(n("a2eb"),function(e){var t=e.map(function(e){return e.selected=!1,e.displaying=!1,e});return t.sort(function(e,t){return e.sortOrder-t.sortOrder})}),Ae=Object(h["a"])("builder"),Fe={name:"catalog-builder",data:function(){return{builderWidth:0,visibleSections:0,slidePosition:0,sectionClicked:0,scrolling:!1,scrollInit:{mouseX:0,scrollerPos:0,slidePos:0},scrollMove:0,isLoadingMoreItems:!1}},computed:Object(l["a"])({},Ae.mapGetters(["treeSections","displayedNodePosition","sectionWidth","displayedNode","dragInfo","selectedStore"]),Object(h["d"])(["contentLanguage"]),{xPosition:function(){return"translate3d(-".concat(this.slidePosition*this.sectionWidth,"px, 0, 0)")},sectionsInTree:function(){return this.treeSections.length},showScroll:function(){return this.sectionsInTree*this.sectionWidth>this.builderWidth+50},scrollerWidthPercent:function(){return this.builderWidth/(this.sectionsInTree*this.sectionWidth)*100},scrollerWhiteSpace:function(){return this.builderWidth-this.scrollerWidthPercent*this.builderWidth/100},scrollerPageSize:function(){return this.scrollerWhiteSpace/(this.sectionsInTree-this.visibleSections)},scrollerPosition:function(){if(!this.scrolling){var e=this.scrollerPageSize*this.slidePosition;return e}return this.scrollMove}}),watch:{selectedStore:function(){this.getCatalogs()}},methods:Object(l["a"])({},Ae.mapMutations(["setSectionWidth","setSectionsInTree","addItemsToSectionInTree","selectNode","resetDisplayedNode","setRecentDrop","moveDraggedNode"]),Object(h["e"])(["addUndo","clearUndos"]),Object(h["c"])(["moveCat"]),{loadMoreCats:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.endOfList){e.next=2;break}return e.abrupt("return");case 2:if(!this.isLoadingMoreItems){e.next=4;break}return e.abrupt("return");case 4:if(this.isLoadingMoreItems=!0,e.prev=5,0!==t.position){e.next=11;break}return e.next=9,this.getMoreCatalogs(t);case 9:e.next=13;break;case 11:return e.next=13,this.getMoreCategories(t);case 13:return e.prev=13,this.isLoadingMoreItems=!1,e.finish(13);case 16:n=this.$refs.section[t.position],n&&n.checkIfMoreItemsNeeded.bind(n)();case 18:case"end":return e.stop()}},e,this,[[5,,13,16]])}));function t(t){return e.apply(this,arguments)}return t}(),getCatalogs:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t,n,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=25,e.next=3,this.axios.get("/stores/".concat(this.selectedStore,"/catalogs?limit=").concat(t));case 3:if(n=e.sent,i=Ve(n.data),s={position:0,cat:{name:"Catalogs",nodeType:"store",guid:this.selectedStore},elements:i,categoriesCount:+n.headers["x-total-count"]},this.setSectionsInTree(s),!i.length){e.next=12;break}return e.next=10,this.selectNodeWithPosition(0,0);case 10:e.next=13;break;case 12:this.resetDisplayedNode();case 13:this.resetScroll(1);case 14:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getMoreCatalogs:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var i,s,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=100,n=n||t.categories[t.categories.length-1].guid,e.next=4,this.axios.get("/stores/".concat(this.selectedStore,"/catalogs?limit=").concat(i,"&marker=").concat(n));case 4:s=e.sent,r=Ve(s.data),o={position:0,cat:t,elements:r,categoriesCount:+s.headers["x-total-count"]},this.addItemsToSectionInTree(o);case 8:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),selectParent:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.displayedNode.nodeType!==X){e.next=4;break}return e.next=3,this.getCatalogs();case 3:return e.abrupt("return");case 4:return t=this.displayedNodePosition.section-1,n=this.treeSections[t].categories.findIndex(function(e){return e.selected}),e.next=8,this.selectNodeWithPosition(t,n);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),setWidth:function(){this.builderWidth=this.$refs.builder.offsetWidth,this.visibleSections=Math.round(this.builderWidth/300),this.setSectionWidth(Math.ceil(this.builderWidth/this.visibleSections))},nodeSelected:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n,i,s,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.cat,i=t.parentGuid,s=n.guid!==this.displayedNode.guid,r=this.treeSections.findIndex(function(e){return e.guid===i}),this.selectNode({parentGuid:i,catGuid:n.guid}),e.next=6,this.getCategories(n,r);case 6:this.sectionClicked=r,s&&this.nodeChanged(r);case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),nodeChanged:function(e){this.clearUndos(),this.resetScroll(e+1)},createMoveCommand:function(e,t,n,i,s){var r=this.treeSections[0].categories.find(function(e){return e.selected}),o=e.catalogGuid||r.guid,a={sortOrder:e.sortOrder,parentCategoryGuid:e.parentGuid===o?null:e.parentGuid,productCatalogGuid:o},c={sortOrder:this.dragInfo.node.sortOrder,parentCategoryGuid:this.dragInfo.parentGuid===r.guid?null:this.dragInfo.parentGuid,productCatalogGuid:r.guid},u=i?"<strong>".concat(this.dragInfo.node.name,"</strong> changed position"):"<strong>".concat(this.dragInfo.node.name,"</strong> was moved into <strong>").concat(e.name,"</strong>"),h=Object(l["a"])({},this.dragInfo.node,{undoMessage:u,nodeGuid:this.dragInfo.node.guid,contentLanguage:this.contentLanguage,survivesNodeChange:!0,undoAction:Object(d["a"])(regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,this.selectParent();case 2:o=i?n:e.parentGuid,this.selectNodeWithGuid(o),this.setFocus(),this.setSectionScrollPosition(t,s);case 6:case"end":return r.stop()}},r,this)})).bind(this)});return{save:a,undo:c,meta:h}},nodeDropped:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n,i,s,r,o,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=this.dragInfo.node.guid,i=this.dragInfo.parentGuid===t.parentGuid,s=t.parentGuid===t.catalogGuid?0:this.treeSections.findIndex(function(e){return e.guid===t.parentGuid}),r=this.getSectionScrollPosition(s),o=this.createMoveCommand(t,s,n,i,r),e.next=7,this.moveCat(o);case 7:if(this.moveDraggedNode(t),t.parentGuid!==t.catalogGuid){e.next=11;break}return e.next=11,this.getCatalogs();case 11:return a=i?n:t.parentGuid,e.next=14,this.selectNodeWithGuid(a);case 14:this.setFocus(),this.setSectionScrollPosition(s,r);case 16:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getSectionScrollPosition:function(e){return this.$refs.section[e]?this.$refs.section[e].getScrollPosition():0},setSectionScrollPosition:function(e,t){if(this.$refs.section[e])return this.$refs.section[e].setScrollPosition(t)},getCategories:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var i,s,r,o,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=q[t.nodeType],s=25,e.next=4,this.axios.get("/".concat(i,"/").concat(t.guid,"/categories?limit=").concat(s));case 4:r=e.sent,o=Ve(r.data),a={position:n+1,elements:o,cat:t,categoriesCount:+r.headers["x-total-count"]},this.setSectionsInTree(a),this.setWidth(),this.slideSections();case 10:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),getMoreCategories:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var i,s,r,o,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=q[t.nodeType],n=n||t.categories[t.categories.length-1].guid,s=100,e.next=5,this.axios.get("/".concat(i,"/").concat(t.guid,"/categories?limit=").concat(s,"&marker=").concat(n));case 5:r=e.sent,o=Ve(r.data),a={position:t.position,elements:o,cat:t,categoriesCount:+r.headers["x-total-count"]},this.addItemsToSectionInTree(a),this.setWidth(),this.slideSections();case 11:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),resetScroll:function(e){var t=this.$refs.section;t&&t.length>e&&t[e].resetScroll()},setFocus:function(e){if(!e||!e.target.classList.contains("cat-builder__node")){var t=document.getElementById(this.displayedNode.guid);t&&t.focus()}},slideSections:function(){var e=this.slidePosition+this.visibleSections-1;this.sectionClicked===e&&this.sectionsInTree>e+1?this.slidePosition+=1:this.slidePosition=Math.max(this.sectionsInTree-this.visibleSections,0)},selectNodeWithPosition:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var i,s,r,o,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=Math.min(Math.max(t,0),this.sectionsInTree-1),s=this.treeSections[i],r=Math.min(Math.max(n,0),s.categories.length-1),o=this.displayedNodePosition.section!==i||this.displayedNodePosition.index!==r,a=0===this.displayedNodePosition.section&&0===this.displayedNodePosition.index,!o&&!a){e.next=9;break}return e.next=8,this.nodeSelected({cat:s.categories[r],parentGuid:s.guid});case 8:this.setFocus();case 9:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),selectNodeWithGuid:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n,i,s,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<this.treeSections.length)){e.next=16;break}i=this.treeSections[n],s=0;case 4:if(!(s<i.categories.length)){e.next=13;break}if(r=i.categories[s],r.guid!==t){e.next=10;break}return e.next=9,this.nodeSelected({cat:r,parentGuid:i.guid});case 9:return e.abrupt("break",16);case 10:s++,e.next=4;break;case 13:n++,e.next=1;break;case 16:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),setupScrollHandler:function(){var e=this;this.$refs.scroller.addEventListener("mousedown",function(t){e.scrollInit.scrollerPos=e.scrollerPosition,e.scrollInit.mouseX=t.clientX,e.scrollInit.slidePos=e.slidePosition,e.scrollMove=e.scrollerPosition,e.scrolling=!0,window.addEventListener("mousemove",e.scrollMoveHandler)}),window.addEventListener("mouseup",function(t){e.scrolling=!1,window.removeEventListener("mousemove",e.scrollMoveHandler),window.onmousemove=null})},scrollMoveHandler:function(e){e.preventDefault();var t=e.clientX-this.scrollInit.mouseX;this.scrollMove=Math.min(Math.max(t+this.scrollInit.scrollerPos,0),this.scrollerWhiteSpace);var n=Math.round((this.scrollMove-this.scrollInit.scrollerPos)/this.scrollerPageSize);this.slidePosition=this.scrollInit.slidePos+n},keydownHandler:function(e){var t=this.displayedNodePosition.section,n=this.displayedNodePosition.index,i=this.$refs.section.findIndex(function(e){return e.createVisible});switch(e.key){case"ArrowLeft":if(0===t)break;t-=1,n=this.treeSections[t].categories.findIndex(function(e){return e.selected});break;case"ArrowUp":n-=1;break;case"ArrowRight":this.treeSections[t+1].categories.length&&(t+=1);break;case"ArrowDown":n+=1;break;case"c":if(i>-1)return;this.showCreateInSection(t);break;default:return}e.preventDefault(),this.selectNodeWithPosition(t,n)},moveCreateWidget:function(e){var t=this.$refs.section.findIndex(function(e){return e.createVisible});if(-1!==t&&("ArrowLeft"===e.key&&this.showCreateInSection(Math.max(t-1,0)),"ArrowRight"===e.key)){var n=this.treeSections.length-1;this.showCreateInSection(Math.min(t+1,n))}},hideCreate:function(e){for(var t=0;t<this.$refs.section.length;t++)t!==e&&this.$refs.section[t].hideCreate();this.setFocus()},showCreateInSection:function(e){this.hideCreate(e),this.$refs.section[e].showCreate()},nodeCreated:function(e){var t=e.parentGuid,n=e.isCatalog;n?this.getCatalogs():this.selectNodeWithGuid(t)}}),components:{StoreSelector:V,TreeSection:Be},mounted:function(){var e=this;this.setWidth(),window.addEventListener("resize",function(){e.setWidth(),e.slideSections()}),this.setupScrollHandler()}},Ye=Fe,Xe=(n("4fc4"),Object(p["a"])(Ye,_,x,!1,null,"72ad3284",null)),Je=Xe.exports,Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.details?n("section",{staticClass:"details-view"},[n("header",{staticClass:"details-view__header"},[n("short-text",{staticClass:"large name field",attrs:{definition:e.details.name,name:"name",size:"big"},on:{change:e.saveChange}}),n("div",{staticClass:"details-view__header-right"},[n("uc-select-simple",{attrs:{options:e.languages,selected:e.contentLanguage},on:{selected:e.changeLanguage}}),n("info-widget",{ref:"infoWidget"},[n("div",{staticClass:"info widget group"},[n("label",{staticClass:"input-label"},[e._v("Created")]),n("span",[e._v(e._s(e._f("format")(e.meta.createdOn,"DD. MMM YYYY",e.locale)))]),e._v("\n          by\n          "),n("span",[e._v(e._s(e.meta.createdBy))]),n("label",{staticClass:"input-label"},[e._v("Modified")]),n("span",[e._v(e._s(e._f("format")(e.meta.modifiedOn,"DD. MMM YYYY",e.locale)))]),e._v("\n          by\n          "),n("span",[e._v(e._s(e.meta.modifiedBy))])]),n("div",{staticClass:"info widget group"},[n("label",{staticClass:"input-label"},[e._v("Definition")]),n("uc-select-simple",{ref:"definitions",attrs:{options:e.allDefinitions,selected:e.selectedDefinition.guid},on:{selected:e.selectDefinition}})],1),n("div",{staticClass:"info widget group"},[n("label",{staticClass:"input-label"},[e._v("Careful!")]),n("div",{staticClass:"details-view__delete",class:{confirmToggled:e.confirmToggled}},[n("span",{on:{click:e.toggleConfirm}},[e._v("Delete")]),n("transition",{attrs:{name:"popover-right"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.confirmToggled,expression:"confirmToggled"}],staticClass:"dropdown-overlay details__delete-overlay"},[n("button",{staticClass:"btn danger details__delete-btn",on:{click:e.deleteItem}},[e._v("Yes, delete this")]),n("button",{staticClass:"btn",on:{click:e.toggleConfirm}},[e._v("Cancel")])])])],1)])])],1)],1),n(e.displayedNode.nodeType,{tag:"component",attrs:{language:e.contentLanguage},on:{change:e.saveChange}}),n("div",{staticClass:"details__static"},e._l(e.dynamicProperties,function(t){return n("div",{key:e.details[t].guid},[n("a",{attrs:{name:t}}),n(e.details[t].editor,{tag:"component",attrs:{language:e.contentLanguage,name:t,definition:e.details[t]},on:{change:e.saveChange}})],1)}),0),e.anyValidationErrors?n("form-feedback",{staticClass:"validation feedback",attrs:{type:"warning"}},[n("h5",[e._v("Please take another look at the content of these fields:")]),n("ul",e._l(e.validationErrors,function(t,i,s){return n("li",{key:"anchor_"+i},[n("a",{attrs:{href:"#"+i}},[e._v(e._s(e.label(i)))]),e._l(t,function(t){return n("ul",{key:t},[n("li",[e._v(e._s(t))])])})],2)}),0)]):e._e()],1):e._e()},qe=[],Ze=(n("029e"),n("768b")),Qe=(n("6213"),n("a09b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"details-catalog"},[n("section",{staticClass:"details__static"},[n("uc-short-text",{attrs:{showLanguage:!0,language:e.language,definition:e.details.displayName,name:"displayName"},on:{change:e.save}}),n("uc-boolean",{attrs:{definition:e.details.displayOnWebsite,name:"displayOnWebsite"},on:{change:e.save}}),n("uc-boolean",{attrs:{definition:e.details.showPricesIncludingVAT,name:"showPricesIncludingVAT"},on:{change:e.save}}),n("div"),n("uc-single-select",{attrs:{definition:e.details.defaultPriceGroup,name:"defaultPriceGroup"},on:{change:e.save}}),n("uc-multi-select",{attrs:{definition:e.details.allowedPriceGroups,name:"allowedPriceGroups"},on:{change:e.save}})],1)])}),et=[],tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.definition.options.length?n("div",{staticClass:"uc-single-select"},[n("label",{staticClass:"uc-input-label",attrs:{for:e.fieldId}},[e._v(e._s(e.definition.label))]),e.definition.options.length<6?n("div",{staticClass:"uc-input-wrapper"},e._l(e.definition.options,function(t){return n("uc-radio",{key:t.guid,staticClass:"uc-single-select__radio",attrs:{readonly:e.definition.readonly,label:t.label,guid:t.guid,checked:t.guid===e.selectedOption,group:e.fieldId},on:{change:e.change}})}),1):[n("uc-select",{attrs:{readonly:e.definition.readonly,options:e.definition.options,selected:e.selectedOption,placeholder:e.definition.placeholder},on:{selected:e.change}})],e._l(e.definition.errors,function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})})],2):e._e()},nt=[],it=(n("7f7f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"uc-radio",class:{readonly:e.readonly}},[n("input",{attrs:{type:"radio",name:e.group,id:e.id,disabled:e.readonly},domProps:{value:e.guid,checked:e.checked},on:{change:e.onChange}}),n("span",[e._v(e._s(e.label))]),e._m(0)])}),st=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-radio__check"},[n("div",{staticClass:"uc-radio__check-inner"})])}],rt={name:"uc-radio",data:function(){return{id:null}},props:{label:String,readonly:Boolean,checked:Boolean,group:String,guid:String},methods:{onChange:function(e){this.$emit("change",this.guid)}},created:function(){this.id=P()}},ot=rt,at=(n("72c9"),Object(p["a"])(ot,it,st,!1,null,null,null)),ct=at.exports,lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"field-feedback",class:e.classes},[e._v(e._s(e.value))])},dt=[],ut="info",ht="warning",ft="error",gt={name:"field-feedback",props:{type:{type:String,default:ut},value:String},computed:{classes:function(){return{info:this.type===ut,warning:this.type===ht,error:this.type===ft}}}},pt=gt,mt=(n("a768"),Object(p["a"])(pt,lt,dt,!1,null,"44676cca",null)),vt=mt.exports,bt=function(e,t,n,i,s){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"value",o={undo:Object(Y["a"])({},e,Object(Y["a"])({guid:t},r,s))},a={meta:{label:n,contentLanguage:void 0,timeStamp:new Date,nodeType:"",nodeGuid:"",undoMessage:void 0,undoAction:void 0}},c={save:Object(Y["a"])({},e,Object(Y["a"])({guid:t},r,i))};return void 0!==s?Object(l["a"])({key:t},c,o,a):Object(l["a"])({key:t},c,a)},yt={name:"single-select",data:function(){return{fieldId:""}},props:{name:String,definition:{type:Object,default:function(){return{options:[]}}}},computed:{selectedOption:function(){return this.definition.selected?this.definition.selected[0]:""}},components:{UcRadio:ct,UcSelect:E,feedback:vt},methods:{change:function(e){var t=bt(this.name,this.definition.guid,this.definition.label,[e],this.definition.selected,"selected");this.$emit("change",t)}},created:function(){this.fieldId=P()}},wt=yt,_t=(n("aea4"),Object(p["a"])(wt,tt,nt,!1,null,null,null)),xt=_t.exports,Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.definition.options.length?n("div",{staticClass:"uc-multi-select__container"},[n("label",{staticClass:"uc-input-label"},[e._v(e._s(e.definition.label))]),e.longList()?n("div",[n("uc-search",{on:{onSearch:e.onSearch}}),e.matchesFound()?e._e():n("div",{staticClass:"uc-search_no-results long-list"},[e._v("No matches found")])],1):e._e(),e.matchesFound()?n("div",{class:{"uc-multi-select__list long-list":e.longList()}},e._l(e.filteredOptions,function(t){return n("uc-checkbox",{key:t.guid,staticClass:"uc-multi-select__check",attrs:{readonly:e.definition.readonly,guid:t.guid,label:t.label,value:t.guid,checked:e.definition.selected.includes(t.guid)},on:{change:e.change}})}),1):e._e(),e._l(e.definition.errors,function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})})],2):e._e()},St=[],Ot=(n("6762"),n("2fdb"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"uc-checkbox",class:{readonly:e.readonly}},[n("input",{attrs:{type:"checkbox",name:e.id,id:e.id,disabled:e.readonly},domProps:{checked:e.checkedValue,value:e.guid},on:{change:e.onChange}}),n("span",{staticClass:"uc-checkbox__label"},[e._v(e._s(e.label))]),n("div",{staticClass:"uc-checkbox__check"},[n("check")],1)])}),kt=[],It=n("f0d6"),jt={name:"uc-checkbox",data:function(){return{id:null}},props:{label:String,readonly:Boolean,checked:Boolean,guid:String},components:{Check:It["a"]},computed:{checkedValue:function(){return this.checked?"checked":""}},methods:{onChange:function(e){this.$emit("change",{value:e.target.checked,guid:this.guid})}},created:function(){this.id=P()}},Tt=jt,Nt=(n("f146"),Object(p["a"])(Tt,Ot,kt,!1,null,null,null)),Dt=Nt.exports,Pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search_container"},[n("div",{staticClass:"icon_container",on:{click:e.focusInput}},[n("search-icon")],1),n("uc-text-input",{ref:"searchInput",staticClass:"search-input",attrs:{placeholder:"Search",value:e.searchTerm},on:{input:e.onSearch}}),n("div",{staticClass:"icon_container close-icon",on:{click:e.onClear}},[n("close-icon")],1)],1)},Mt=[],$t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 24 24","xml:space":"preserve"}},[n("title",[e._v("Search")]),n("g",{attrs:{"stroke-linecap":"square","stroke-linejoin":"miter","stroke-width":"2",fill:"#111111",stroke:"#111111"}},[n("line",{attrs:{fill:"none","stroke-miterlimit":"10",x1:"22",y1:"22",x2:"16.4",y2:"16.4"}}),n("circle",{attrs:{fill:"none",stroke:"#111111","stroke-miterlimit":"10",cx:"10",cy:"10",r:"9"}})])])},Lt=[],Et={},Gt=Object(p["a"])(Et,$t,Lt,!1,null,null,null),Ht=Gt.exports,Wt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("title",[e._v("Close")]),n("g",{attrs:{fill:"#111111"}},[n("path",{attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}})])])},Rt=[],Ut={},zt=Object(p["a"])(Ut,Wt,Rt,!1,null,null,null),Bt=zt.exports,Vt={name:"uc-search",components:{UcTextInput:Se,SearchIcon:Ht,CloseIcon:Bt},data:function(){return{searchTerm:""}},methods:{onSearch:function(e){this.searchTerm=e,this.$emit("onSearch",e)},onClear:function(){this.onSearch(""),this.focusInput()},focusInput:function(){this.$refs.searchInput.focus()}}},At=Vt,Ft=(n("8cf8"),Object(p["a"])(At,Pt,Mt,!1,null,"1bc8256e",null)),Yt=Ft.exports,Xt=function(e){return JSON.parse(JSON.stringify(e))},Jt={name:"multi-select",props:{name:String,definition:{type:Object,default:function(){return{options:[]}}}},components:{UcCheckbox:Dt,UcSearch:Yt,feedback:vt},data:function(){return{searchTerm:""}},computed:{filteredOptions:function(){var e=this;return""===this.searchTerm||null===this.searchTerm?this.definition.options:this.definition.options.filter(function(t){return t.label.toLowerCase().includes(e.searchTerm.toLowerCase())})}},methods:{longList:function(){return this.definition.options.length>6},matchesFound:function(){return this.filteredOptions.length>0},change:function(e){var t=Xt(this.definition.selected);e.value?t.push(e.guid):t=t.filter(function(t){return t!==e.guid});var n=bt(this.name,this.definition.guid,this.definition.label,t,this.definition.selected,"selected");this.$emit("change",n)},onSearch:function(e){this.searchTerm=e}}},Kt=Jt,qt=(n("e496"),Object(p["a"])(Kt,Ct,St,!1,null,"54f17d0b",null)),Zt=qt.exports,Qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-short-text-editor"},[n("uc-text-input",{attrs:{value:e.definition.value,label:e.computedLabel,error:e.definition.error,placeholder:e.definition.placeholder,readonly:e.definition.readonly,size:e.size},on:{blur:e.onBlur}}),e._l(e.definition.errors,function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})})],2)},en=[],tn={name:"short-text",props:{name:String,definition:{type:Object,default:function(){return{}}},language:String,size:{type:String,default:function(){return"small"}}},computed:{computedLabel:function(){var e=this.definition.multilingual?"(".concat(this.language,")"):"";return"".concat(this.definition.label," ").concat(e)}},components:{ucTextInput:Se,feedback:vt},methods:{onBlur:function(e){if(this.definition.value!==e.target.value||this.definition.error){var t=bt(this.name,this.definition.guid,this.definition.label,e.target.value,this.definition.value);this.$emit("change",t)}}}},nn=tn,sn=(n("08c3"),Object(p["a"])(nn,Qt,en,!1,null,"13b5b516",null)),rn=sn.exports,on=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-boolean-select"},[n("uc-checkbox",{attrs:{readonly:e.definition.readonly,label:e.definition.label,guid:e.definition.guid,checked:e.definition.value},on:{change:e.change}}),e._l(e.definition.errors,function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})})],2)},an=[],cn={name:"boolean",props:{name:String,definition:{type:Object,default:function(){return{}}}},components:{UcCheckbox:Dt,feedback:vt},methods:{change:function(e){var t=bt(this.name,this.definition.guid,this.definition.label,e.value,this.definition.value);this.$emit("change",t)}}},ln=cn,dn=Object(p["a"])(ln,on,an,!1,null,null,null),un=dn.exports,hn=Object(h["a"])("details"),fn=hn.mapGetters,gn={name:"catalog-details",props:{language:String},computed:Object(l["a"])({},fn(["details"]),Object(h["d"])(["systemInfo"])),consumedProperties:["displayName","displayOnWebsite","showPricesIncludingVAT","defaultPriceGroup","allowedPriceGroups"],components:{UcSingleSelect:xt,UcMultiSelect:Zt,UcShortText:rn,UcBoolean:un},methods:{save:function(e){this.$emit("change",e)}}},pn=gn,mn=(n("552b"),Object(p["a"])(pn,Qe,et,!1,null,"6ebbd6b1",null)),vn=mn.exports,bn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"details-category"},[n("section",{staticClass:"details-category__static"},[n("uc-image-picker",{attrs:{definition:e.details.media,name:"media","multi-select":!1,"content-type":"media"},on:{change:e.save}}),n("div",{staticClass:"details-category__static-right"},[n("uc-short-text",{attrs:{showLanguage:!0,language:e.language,definition:e.details.displayName,name:"displayName"},on:{change:e.save}}),n("uc-rich-text",{attrs:{definition:e.details.description,name:"description"},on:{change:e.save}}),n("uc-boolean",{attrs:{definition:e.details.displayOnWebsite,name:"displayOnWebsite"},on:{change:e.save}}),n("uc-single-select",{attrs:{definition:e.details.definition,name:"definition"},on:{change:e.save}})],1)],1)])},yn=[],wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.definition?n("div",[n("uc-label",{attrs:{definition:e.definition,language:e.language}}),e.definition?n("uc-image",{attrs:{src:e.definition.mediaUrl,alt:e.definition.mediaName,size:"256px"},on:{click:function(t){return e.toggle()}}}):e._e(),n("label",[e._v(e._s(e.selectedItemsSummary))]),n("div",{staticClass:"actions"},[n("div",{staticClass:"icon small background",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.toggle()}}},[n("edit-icon",{staticClass:"icon-edit"})],1),n("div",{staticClass:"icon small background",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.reset()}}},[n("close-icon",{staticClass:"icon-close align-right"})],1)])],1):e._e(),e.toggled?n("div",{staticClass:"picker dialog"},[n("header",{staticClass:"picker header-section"},[n("div",{staticClass:"picker header-label"},[e._v(e._s(e.definition.label))]),n("div",{staticClass:"icon big align-right",on:{click:function(t){e.toggled=!e.toggled}}},[n("close-icon",{staticClass:"icon-close"})],1)]),n("content-navigator",{staticClass:"padding-x",attrs:{dataUrl:e.contentType}}),n("content-selector",{staticClass:"picker selector padding-x",attrs:{multiSelect:e.multiSelect,preSelectedItems:e.definition.selected}}),n("preview-bar",{staticClass:"picker preview-bar",on:{save:e.saveAndClose}})],1):e._e()])},_n=[],xn=(n("96cf"),n("c5f6"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-image",class:{cover:e.cover,readonly:e.readonly},style:{width:e.size,height:e.size},on:{click:e.clickHandler}},[!e.fallback&&e.src?n("img",{class:{cover:e.cover},attrs:{src:e.src,alt:e.alt},on:{error:e.showDefault}}):e._e(),e.fallback?n("camera-icon"):e._e(),e.src||e.fallback?e._e():n("folder-icon",{staticClass:"folder"})],1)}),Cn=[],Sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"}},[n("title",[e._v("Not found")]),n("g",[n("path",{attrs:{d:"M7,52h0.758l13.913-13.913C20.616,36.301,20,34.225,20,32c0-6.627,5.373-12,12-12 c2.225,0,4.301,0.616,6.087,1.671L45.5,14l-5.7-7.6C39.611,6.148,39.314,6,39,6H25c-0.314,0-0.611,0.148-0.8,0.4L18.5,14H7 c-2.206,0-4,1.794-4,4v30C3,50.206,4.794,52,7,52z"}}),n("path",{attrs:{fill:"#000000",d:"M57,14h-2.758L42.329,25.913C43.384,27.699,44,29.775,44,32c0,6.627-5.373,12-12,12 c-2.225,0-4.301-0.616-6.087-1.671L16.242,52H57c2.206,0,4-1.794,4-4V18C61,15.794,59.206,14,57,14z"}}),n("path",{attrs:{d:"M3,62c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l58-58 c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-58,58C3.512,61.902,3.256,62,3,62z"}})])])},On=[],kn={},In=Object(p["a"])(kn,Sn,On,!1,null,null,null),jn=In.exports,Tn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"}},[n("title",[e._v("Folder")]),n("g",[n("path",{attrs:{fill:"#F9D44C",d:"M17,8l-4-4H3C1.895,4,1,4.895,1,6v34c0,2.209,1.791,4,4,4h38c2.209,0,4-1.791,4-4V12c0-2.209-1.791-4-4-4H17 z"}}),n("path",{attrs:{fill:"#C7AA3D",d:"M47,14H1V6c0-1.105,0.895-2,2-2h10l4,4h26c2.209,0,4,1.791,4,4V14z"}}),n("circle",{attrs:{fill:"#C7AA3D",cx:"20.5",cy:"22.5",r:"2.5"}}),n("path",{attrs:{fill:"#C7AA3D",d:"M34.79,33.386l-7-9c-0.194-0.248-0.477-0.37-0.81-0.386c-0.315,0.007-0.61,0.162-0.793,0.419l-4.313,6.039 l-3.166-3.165c-0.212-0.212-0.504-0.315-0.806-0.288c-0.298,0.029-0.567,0.191-0.733,0.44l-4,6c-0.205,0.307-0.224,0.701-0.05,1.026 C13.292,34.797,13.631,35,14,35h20c0.382,0,0.73-0.218,0.898-0.561C35.066,34.097,35.024,33.688,34.79,33.386z"}})])])},Nn=[],Dn={},Pn=Object(p["a"])(Dn,Tn,Nn,!1,null,null,null),Mn=Pn.exports,$n={name:"uc-image",data:function(){return{fallback:!1}},props:{src:String,alt:String,cover:Boolean,size:{type:String,default:"auto"},readonly:Boolean},components:{CameraIcon:jn,FolderIcon:Mn},methods:{showDefault:function(){this.fallback=!0},clickHandler:function(){this.$emit("click")}}},Ln=$n,En=(n("4abd"),Object(p["a"])(Ln,xn,Cn,!1,null,"0af65c2f",null)),Gn=En.exports,Hn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"input-label"},[e._v(e._s(e.computedLabel))])},Wn=[],Rn={name:"uc-label",props:{name:String,definition:{type:Object,default:function(){return{}}},language:String},computed:{computedLabel:function(){var e=this.definition.multilingual?"(".concat(this.language,")"):"";return"".concat(this.definition.label," ").concat(e)}}},Un=Rn,zn=(n("6536"),Object(p["a"])(Un,Hn,Wn,!1,null,"2b25a369",null)),Bn=zn.exports,Vn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 48 48","xml:space":"preserve"}},[n("title",[e._v("Edit")]),n("g",{attrs:{fill:"#111111"}},[n("path",{attrs:{fill:"#111111",d:"M43.7,8.6l-4.3-4.3c-0.9-0.9-2.2-1.5-3.5-1.5c-1.3,0-2.6,0.5-3.5,1.5L5.1,31.5C5,31.6,5,31.7,4.9,31.8 c0,0,0,0.1,0,0.1c0,0,0,0.1,0,0.1l-2,12c-0.1,0.3,0.1,0.6,0.3,0.9c0.2,0.2,0.4,0.3,0.7,0.3c0.1,0,0.1,0,0.2,0l12-2c0,0,0.1,0,0.1,0 c0,0,0.1,0,0.1,0c0.1,0,0.2-0.1,0.3-0.2l27.2-27.2C45.7,13.8,45.7,10.6,43.7,8.6z M9.3,42.2l-3.6-3.6l0.7-4.4l7.3,7.3L9.3,42.2z M30.7,18.7L14.4,35c-0.2,0.2-0.5,0.3-0.7,0.3c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l16.3-16.3c0.4-0.4,1-0.4,1.4,0 S31.1,18.3,30.7,18.7z M37.8,18.8l-8.6-8.6l2.6-2.6l8.6,8.6L37.8,18.8z"}})])])},An=[],Fn={},Yn=Object(p["a"])(Fn,Vn,An,!1,null,null,null),Xn=Yn.exports,Jn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("section",{ref:"builder",staticClass:"cat-builder",on:{click:e.setFocus,keydown:e.keydownHandler}},[n("div",{ref:"inner",staticClass:"cat-builder__inner",style:{transform:e.xPosition}},[n("div",{staticClass:"cat-builder__header"}),e._l(e.treeSections,function(t,i){return n("tree-section",{key:i,ref:"section",refInFor:!0,attrs:{section:t},on:{nodeSelected:e.nodeSelected,needsMoreCats:e.loadMoreCats}})})],2),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showScroll,expression:"showScroll"}],staticClass:"builder__scrollbar"},[n("div",{ref:"scroller",staticClass:"builder__scroll-handle",class:{scrolling:e.scrolling},style:{width:e.scrollerWidthPercent+"%",transform:"translate3d("+e.scrollerPosition+"px, 0, 0)"}})])])],1)])},Kn=[],qn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"section",staticClass:"cat-builder__section",style:{width:e.sectionWidth+"px",height:e.sectionHeight+"px"}},[n("header",[n("span",[e._v(e._s(e.section.name))])]),n("div",{ref:"body",staticClass:"section__body",on:{scroll:e.checkIfMoreItemsNeeded}},[e._l(e.section.categories,function(t,i){return[n("tree-node",{key:t.guid,ref:"node",refInFor:!0,attrs:{cat:t,"parent-guid":e.section.guid,"cat-index":i},on:{selected:function(t){return e.$emit("nodeSelected",t)}}})]}),n("div",{ref:"remaining",staticClass:"section__remaining-items-placeholder",style:e.remainingItemsStyle})],2)])},Zn=[],Qn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"node",staticClass:"cat-builder__node",class:e.classes,attrs:{tabindex:"0",id:e.cat.guid},on:{click:e.clickHandler}},[n("span",[e._v(e._s(e.cat.name))]),n("right-arrow",{directives:[{name:"show",rawName:"v-show",value:e.cat.hasChildren,expression:"cat.hasChildren"}]})],1)},ei=[],ti={name:"tree-node",data:function(){return{hoverMsBeforeLoad:1e3,dragOverTimestamp:null,emitTypes:{selected:"selected",changeSection:"changeSection"},isDropzone:!1,dragClone:null}},props:{cat:Object,catIndex:Number,parentGuid:String},computed:{classes:function(){return{selected:this.cat.selected,displaying:this.cat.displaying}},height:function(){return this.$el.clientHeight}},components:{RightArrow:D},methods:{clickHandler:function(e){e.stopPropagation(),this.setFocus(),this.select()},setFocus:function(){this.$el.focus()},select:function(){this.$emit(this.emitTypes.selected,{parentGuid:this.parentGuid,cat:this.cat})}}},ni=ti,ii=(n("eadf"),Object(p["a"])(ni,Qn,ei,!1,null,"36b789de",null)),si=ii.exports,ri={name:"tree-section",data:function(){return{headerEnterTimer:null,showCreateTrigger:!1,visibleTargetIndex:-1}},props:{section:Object},computed:Object(l["a"])({},Object(h["d"])("navigator",["sectionWidth","sectionHeight"]),{remainingItemsStyle:function(){var e=this.section.categories.length&&this.section.categoriesCount&&!this.section.endOfList?35:0,t=e*(this.section.categoriesCount-this.section.categories.length);return{height:"".concat(t,"px")}},sectionNodeType:function(){return 0===this.section.position?X:J}}),methods:{resetScroll:function(){this.$refs.body.scrollTop=0},getScrollPosition:function(){return this.$refs.body.scrollTop},setScrollPosition:function(e){this.$refs.body.scrollTop=e},checkIfMoreItemsNeeded:function(){var e=this.$refs.remaining,t=this.$refs.body;if(e&&t){var n=e.getBoundingClientRect().top,i=n<2*t.offsetHeight;i&&this.$emit("needsMoreCats",this.section)}}},components:{TreeNode:si}},oi=ri,ai=(n("ec82"),Object(p["a"])(oi,qn,Zn,!1,null,"bff0ce62",null)),ci=ai.exports,li=["album","folder","mediaLibrary","mediaLibraryFolder","content"].map(function(e){return e.toLowerCase()}),di=function(e){return e.map(function(e){return e.guid=e.id,li.includes(e.nodeType.toLowerCase())?e.pickerNodeType="Folder":e.pickerNodeType=e.nodeType,e})},ui={ImagePicker:{Folder:"Folder",Image:"Image",File:"File"}},hi={name:"content-navigator",data:function(){return{builderWidth:0,visibleSections:0,slidePosition:0,sectionClicked:0,scrolling:!1,scrollInit:{mouseX:0,scrollerPos:0,slidePos:0},scrollMove:0,isLoadingMoreItems:!1}},props:{dataUrl:String},computed:Object(l["a"])({},Object(h["d"])("navigator",["treeSections","displayedNodePosition","sectionWidth","displayedNode"]),Object(h["d"])(["contentLanguage"]),{xPosition:function(){return"translate3d(-".concat(this.slidePosition*this.sectionWidth,"px, 0, 0)")},sectionsInTree:function(){return this.treeSections.length},showScroll:function(){return this.sectionsInTree*this.sectionWidth>this.builderWidth+50},scrollerWidthPercent:function(){return this.builderWidth/(this.sectionsInTree*this.sectionWidth)*100},scrollerWhiteSpace:function(){return this.builderWidth-this.scrollerWidthPercent*this.builderWidth/100},scrollerPageSize:function(){return this.scrollerWhiteSpace/(this.sectionsInTree-this.visibleSections)},scrollerPosition:function(){if(!this.scrolling){var e=this.scrollerPageSize*this.slidePosition;return e}return this.scrollMove}}),methods:Object(l["a"])({},Object(h["e"])("navigator",["setSectionWidth","setSectionsInTree","addItemsToSectionInTree","selectNode","resetDisplayedNode"]),{loadMoreCats:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.endOfList){e.next=2;break}return e.abrupt("return");case 2:if(!this.isLoadingMoreItems){e.next=4;break}return e.abrupt("return");case 4:return this.isLoadingMoreItems=!0,e.prev=5,e.next=8,this.getMoreRootItems(t);case 8:return e.prev=8,this.isLoadingMoreItems=!1,e.finish(8);case 11:n=this.$refs.section[t.position],n&&n.checkIfMoreItemsNeeded.bind(n)();case 13:case"end":return e.stop()}},e,this,[[5,,8,11]])}));function t(t){return e.apply(this,arguments)}return t}(),getSectionData:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n,i,s){var r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get(t);case 2:return r=e.sent,o=di(Ve(r.data)),e.abrupt("return",{position:s,cat:n,elements:o.filter(function(e){return e.pickerNodeType===ui.ImagePicker.Folder}),allElements:o.filter(function(e){return e.pickerNodeType!==ui.ImagePicker.File}),categoriesCount:+r.headers["x-total-count"]});case 5:case"end":return e.stop()}},e,this)}));function t(t,n,i,s){return e.apply(this,arguments)}return t}(),initRootItems:function(){var e={name:"Media",nodeType:"root"},t={name:"Home",hasChildren:!0,nodeType:"Folder",pickerNodeType:"Folder",id:"-1"},n=di(Ve([t])),i={position:0,cat:e,elements:n,allElements:n,categoriesCount:1};this.setSectionsInTree(i),i.elements.length?this.selectNodeWithPosition(0,0):this.resetDisplayedNode()},getRootItems:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="".concat(this.dataUrl),e.next=3,this.getSectionData(n,t,null,1);case 3:i=e.sent,this.setSectionsInTree(i),this.resetScroll(2);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getMoreRootItems:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),getItems:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i="".concat(this.dataUrl,"/").concat(t.nodeType,"/").concat(t.guid),e.next=3,this.getSectionData(i,t,null,n+1);case 3:s=e.sent,this.setSectionsInTree(s),this.setWidth(),this.slideSections(),this.resetScroll(n+1);case 8:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),getMoreItems:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),setWidth:function(){this.builderWidth=this.$refs.builder.offsetWidth,this.visibleSections=Math.round(this.builderWidth/300),this.setSectionWidth(Math.ceil(this.builderWidth/this.visibleSections))},nodeSelected:function(e){var t=e.cat,n=e.parentGuid,i=this.treeSections.findIndex(function(e){return e.guid===n});this.selectNode({parentGuid:n,catGuid:t.guid}),0===i?this.getRootItems(t):this.getItems(t,i),this.sectionClicked=i},getSectionScrollPosition:function(e){return this.$refs.section[e]?this.$refs.section[e].getScrollPosition():0},setSectionScrollPosition:function(e,t){if(this.$refs.section[e])return this.$refs.section[e].setScrollPosition(t)},resetScroll:function(e){var t=this.$refs.section;t&&t.length>e&&t[e].resetScroll()},setFocus:function(e){var t=this;this.$nextTick(function(){if(!e||!e.target.classList.contains("cat-builder__node")){var n=document.getElementById(t.displayedNode.guid);n&&n.focus()}})},slideSections:function(){var e=this.slidePosition+this.visibleSections-1;this.sectionClicked===e&&this.sectionsInTree>e+1?this.slidePosition+=1:this.slidePosition=Math.max(this.sectionsInTree-this.visibleSections,0)},selectNodeWithPosition:function(e,t){var n=Math.min(Math.max(e,0),this.sectionsInTree-1),i=this.treeSections[n],s=Math.min(Math.max(t,0),i.categories.length-1),r=this.displayedNodePosition.section!==n||this.displayedNodePosition.index!==s,o=0===this.displayedNodePosition.section&&0===this.displayedNodePosition.index;(r||o)&&(this.nodeSelected({cat:i.categories[s],parentGuid:i.guid}),this.setFocus())},setupScrollHandler:function(){var e=this;this.$refs.scroller.addEventListener("mousedown",function(t){e.scrollInit.scrollerPos=e.scrollerPosition,e.scrollInit.mouseX=t.clientX,e.scrollInit.slidePos=e.slidePosition,e.scrollMove=e.scrollerPosition,e.scrolling=!0,window.addEventListener("mousemove",e.scrollMoveHandler)}),window.addEventListener("mouseup",function(t){e.scrolling=!1,window.removeEventListener("mousemove",e.scrollMoveHandler),window.onmousemove=null})},scrollMoveHandler:function(e){e.preventDefault();var t=e.clientX-this.scrollInit.mouseX;this.scrollMove=Math.min(Math.max(t+this.scrollInit.scrollerPos,0),this.scrollerWhiteSpace);var n=Math.round((this.scrollMove-this.scrollInit.scrollerPos)/this.scrollerPageSize);this.slidePosition=this.scrollInit.slidePos+n},keydownHandler:function(e){var t=this.displayedNodePosition.section,n=this.displayedNodePosition.index;switch(e.key){case"ArrowLeft":if(0===t)break;t-=1,n=this.treeSections[t].categories.findIndex(function(e){return e.selected});break;case"ArrowUp":n-=1;break;case"ArrowRight":this.treeSections[t+1].categories.length&&(t+=1);break;case"ArrowDown":n+=1;break;default:return}e.preventDefault(),this.selectNodeWithPosition(t,n)}}),components:{TreeSection:ci},mounted:function(){var e=this;this.initRootItems(),this.setWidth(),window.addEventListener("resize",function(){e.setWidth(),e.slideSections()}),this.setupScrollHandler()}},fi=hi,gi=(n("340f"),Object(p["a"])(fi,Jn,Kn,!1,null,"ddd322f6",null)),pi=gi.exports,mi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-selector-container"},e._l(e.items,function(t){return n("div",{key:t.guid,staticClass:"item",on:{click:function(n){return e.selectItem(t)}}},[n("picker-image",{attrs:{item:t,sizeObj:{value:180,suffix:"px"},selected:e.isSelected(t)}})],1)}),0)},vi=[],bi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"picker-image",on:{mouseover:function(t){e.hovered=!0},mouseleave:function(t){e.hovered=!1}}},[n("uc-image",{staticClass:"absolute",attrs:{src:e.item.url,alt:e.item.name,size:e.size}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.hovered,expression:"hovered"}],staticClass:"absolute border",style:{width:e.size,height:e.size}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.selected,expression:"selected"}],staticClass:"absolute background",style:{width:e.size,height:e.size}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.selected,expression:"selected"}],staticClass:"absolute badge label-container",style:{left:e.offsetPosition}},[e._v(e._s(e.selectedItemPosition))]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.nameShown,expression:"nameShown"}],staticClass:"absolute name label-container",style:{top:e.offsetName}},[e._v(e._s(e.item.name))])],1)},yi=[],wi={name:"picker-image",data:function(){return{fallback:!1,hovered:!1}},props:{item:Object,sizeObj:{value:Number,suffix:String},selected:Boolean,showName:{type:Boolean,default:!1}},components:{UcImage:Gn},computed:Object(l["a"])({},Object(h["d"])("navigator",["selectedItems"]),{size:function(){return"".concat(this.sizeObj.value).concat(this.sizeObj.suffix)},selectedItemPosition:function(){return this.selectedItems.indexOf(this.item.guid)+1},nameShown:function(){return this.showName||this.selected||this.hovered},offsetPosition:function(){return this.getSize(this.sizeObj.value-44)},offsetName:function(){return this.getSize(this.sizeObj.value-36)}}),methods:{getSize:function(e){return"".concat(e).concat(this.sizeObj.suffix)}}},_i=wi,xi=(n("feb9"),Object(p["a"])(_i,bi,yi,!1,null,"99c2e4d4",null)),Ci=xi.exports,Si={name:"content-selector",components:{PickerImage:Ci},props:{multiSelect:Boolean,preSelectedItems:{type:Array,default:function(){return[]}}},mounted:function(){this.setSelectedItems(this.preSelectedItems)},computed:Object(l["a"])({},Object(h["d"])("navigator",["treeSections","displayedNodePosition","selectedItems"]),{section:function(){return this.displayedNodePosition.section+1},items:function(){return this.treeSections[this.section]?this.treeSections[this.section].allCategories:[]},selectedItemsSummary:function(){var e=this.selectedItems.length;switch(e){case 0:return"Nothing selected";case 1:return"1 item selected";default:return"".concat(e," items selected")}}}),methods:Object(l["a"])({},Object(h["e"])("navigator",["toggleSelectedItem","setSelectedItems"]),{isSelected:function(e){return this.selectedItems.includes(e.guid)},selectedItemPosition:function(e){return this.selectedItems.indexOf(e.guid)+1},selectItem:function(e){var t=this.selectedItems[0];!this.multiSelect&&t&&this.toggleSelectedItem(t),this.toggleSelectedItem(e.guid)}})},Oi=Si,ki=(n("16e9"),Object(p["a"])(Oi,mi,vi,!1,null,"53c966f6",null)),Ii=ki.exports,ji=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"preview-bar wrapper"},[n("div",{staticClass:"preview-bar container"},[n("label",[e._v(e._s(e.selectedItemsSummary))]),n("button",{staticClass:"preview-bar save btn primary",on:{click:e.save}},[e._v("Save")])])])},Ti=[],Ni={name:"content-selector-preview-bar",computed:Object(l["a"])({},Object(h["d"])("navigator",["selectedItems"]),{selectedItemsSummary:function(){var e=this.selectedItems.length;switch(e){case 0:return"Nothing selected";case 1:return"1 item selected";default:return"".concat(e," items selected")}}}),methods:{save:function(){this.$emit("save",this.selectedItems)}}},Di=Ni,Pi=(n("5477"),Object(p["a"])(Di,ji,Ti,!1,null,"9b7899fe",null)),Mi=Pi.exports,$i={name:"uc-image-picker",components:{UcImage:Gn,CloseIcon:Bt,EditIcon:Xn,ContentNavigator:pi,ContentSelector:Ii,PreviewBar:Mi,UcLabel:Bn},props:{name:String,definition:Object,multiSelect:Boolean,contentType:String,language:String},data:function(){return{toggled:!1,lastScrollPosition:Number}},computed:{selectedItemsSummary:function(){var e=(this.definition.selected||[]).length;switch(e){case 0:return"Nothing selected";case 1:return this.definition.mediaName;default:return"".concat(this.definition.mediaName," and ").concat(e-1," others selected")}}},watch:{toggled:function(){this.toggled?(this.lastScrollPosition=document.documentElement.scrollTop,document.documentElement.style.overflow="hidden",document.addEventListener("keydown",this.keydownHandler)):(document.documentElement.style.overflow="auto",document.removeEventListener("keydown",this.keydownHandler),document.documentElement.scrollTop=this.lastScrollPosition)}},methods:{toggle:function(){this.toggled=!this.toggled},reset:function(){this.save([])},save:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n,i,s,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=bt(this.name,this.definition.guid,this.definition.label,t,this.definition.selected||[],"selected"),!t.length){e.next=11;break}return e.next=4,this.axios.get("".concat(this.contentType,"/").concat(t[0]));case 4:i=e.sent,s=n.save,s[this.name].mediaName=i.data.name,s[this.name].mediaUrl=i.data.url,r=n.undo,r[this.name].mediaName=this.definition.mediaName,r[this.name].mediaUrl=this.definition.mediaUrl;case 11:this.$emit("change",n);case 12:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),saveAndClose:function(e){this.save(e),this.toggle()},keydownHandler:function(e){"Escape"===e.key&&this.toggle()}}},Li=$i,Ei=(n("e9eb"),Object(p["a"])(Li,wn,_n,!1,null,"7aa96a21",null)),Gi=Ei.exports,Hi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-rich-text"},[e.definition.label?n("label",{staticClass:"input-label",class:{error:e.definition.error}},[e._v(e._s(e.definition.label))]):e._e(),n("div",{ref:"editor"}),e._l(e.definition.errors,function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})})],2)},Wi=[],Ri=n("9339"),Ui=n.n(Ri),zi=n("b012"),Bi=n.n(zi),Vi={name:"uc-rich-text",data:function(){return{editor:null}},props:{name:String,definition:{type:Object,default:function(){return{}}},theme:{type:String,default:"snow"},readonly:Boolean,placeholder:{type:String,default:"Enter text..."},label:String},components:{feedback:vt},watch:{"definition.value":function(){var e=this.update;this.definition.value!==this.editor.root.innerHTML&&(this.editor.off("text-change",e),this.editor.root.innerHTML=this.definition.value,this.$nextTick(function(){this.editor.on("text-change",e)}))}},mounted:function(){this.editor=new Ui.a(this.$refs.editor,{theme:this.theme,readOnly:this.readonly,placeholder:this.placeholder})},methods:{update:Bi()(function(){var e=this.editor.root.innerHTML;if(e!==this.definition.value){var t=bt(this.name,this.definition.guid,this.definition.label,e,this.definition.value);this.$emit("change",t)}},500)}},Ai=Vi,Fi=(n("cef3"),Object(p["a"])(Ai,Hi,Wi,!1,null,null,null)),Yi=Fi.exports,Xi=Object(h["a"])("details"),Ji=Xi.mapGetters,Ki={name:"category-details",props:{language:String},computed:Object(l["a"])({},Ji(["details","priceGroups","categoryDefinitions"]),Object(h["d"])(["systemInfo"])),consumedProperties:["displayName","name","description","displayOnWebsite"],components:{UcImagePicker:Gi,UcShortText:rn,UcRichText:Yi,UcBoolean:un,UcSingleSelect:xt},methods:{save:function(e){this.$emit("change",e)}}},qi=Ki,Zi=(n("525a"),Object(p["a"])(qi,bn,yn,!1,null,null,null)),Qi=Zi.exports,es=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"details__info"},[n("div",{staticClass:"details__info-wrapper",class:{toggled:e.toggled},on:{click:e.toggleInfo}},[n("cog",{staticClass:"cog"})],1),n("transition",{attrs:{name:"popover-right"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.toggled,expression:"toggled"}],staticClass:"dropdown-overlay details__info-dropdown"},[e._t("default")],2)])],1)},ts=[],ns=n("4214"),is={name:"info",data:function(){return{toggled:!1}},components:{cog:ns["a"]},methods:{hide:function(){this.toggled=!1},toggleInfo:function(e){var t=this;e.preventDefault(),this.toggled=!this.toggled,this.toggled&&this.$nextTick(function(){window.addEventListener("click",t.closeHandler),t.$el.addEventListener("click",function(e){e.stopPropagation()})})},closeHandler:function(){this.toggled=!1,window.removeEventListener("click",this.closeHandler)}}},ss=is,rs=(n("a4f4"),Object(p["a"])(ss,es,ts,!1,null,null,null)),os=rs.exports,as=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-date-picker"},[e.definition.label?n("label",{staticClass:"input-label",class:{error:e.definition.error}},[e._v(e._s(e.definition.label))]):e._e(),n("div",{staticClass:"uc-datepicker"},[e.label?n("label",{staticClass:"input-label"},[e._v(e._s(e.label))]):e._e(),n("date-picker",{attrs:{value:e.definition.value,format:e.formatter,placeholder:e.definition.placeholder},on:{selected:e.selected}})],1),e._l(e.definition.errors,function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})})],2)},cs=[],ls=n("fa33"),ds=n("30b2"),us={name:"uc-date-picker",props:{name:String,definition:{type:Object,default:function(){return{}}},format:{type:String,default:"DD. MMM. YYYY"},locale:{type:String,default:"en-US"},label:String},components:{DatePicker:ls["a"],feedback:vt},methods:{selected:function(e){if(this.definition.value!==e){var t=bt(this.name,this.definition.guid,this.definition.label,e,this.definition.value);this.$emit("change",t)}},formatter:function(e){return Object(ds["a"])(e,this.format,ds["b"][this.locale])}}},hs=us,fs=(n("ef2d"),Object(p["a"])(hs,as,cs,!1,null,"a1e2ba84",null)),gs=fs.exports,ps=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-datetime-picker"},[e.definition.label?n("label",{staticClass:"input-label",class:{error:e.definition.error}},[e._v(e._s(e.definition.label))]):e._e(),n("div",{staticClass:"uc-datetime-picker__group"},[n("date-picker",{attrs:{value:e.definition.value,format:e.formatter,placeholder:e.definition.placeholder},on:{selected:e.changeDate}}),n("time-picker",{attrs:{value:e.timeData,format:"HH:mm"},on:{change:e.changeTime}})],1),e._l(e.definition.errors,function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})})],2)},ms=[],vs=(n("f576"),n("517f")),bs=n.n(vs),ys={name:"uc-date-time-picker",props:{name:String,definition:{type:Object,default:function(){return{}}},format:{type:String,default:"DD. MMM. YYYY"},locale:{type:String,default:"en"},label:String},computed:{timeData:function(){var e=this.getDate();return e?{HH:e.getHours().toString().padStart(2,"0"),mm:e.getMinutes().toString().padStart(2,"0")}:{HH:void 0,mm:void 0}}},components:{DatePicker:ls["a"],TimePicker:bs.a,feedback:vt},methods:{getDate:function(){var e=new Date(this.definition.value);return e instanceof Date&&!isNaN(e)?new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()):void 0},changeTime:function(e){var t=this.getDate()||new Date;if(t){var n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.data.HH,e.data.mm);this.emitIfChanged(n)}},changeDate:function(e){var t=this.getDate()||new Date;if(t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes());this.emitIfChanged(n)}},emitIfChanged:function(e){var t=this.getDate()||new Date;if(e.getTime()!==t.getTime()){var n=bt(this.name,this.definition.guid,this.definition.label,e,t);this.$emit("change",n)}},formatter:function(e){return Object(ds["a"])(e,this.format,ds["b"][this.locale])}}},ws=ys,_s=(n("6b29"),Object(p["a"])(ws,ps,ms,!1,null,null,null)),xs=_s.exports,Cs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.definition.options.length?n("div",{staticClass:"uc-single-select"},[n("label",{staticClass:"uc-input-label",attrs:{for:e.fieldId}},[e._v(e._s(e.definition.label))]),e.definition.options.length<6?n("div",{staticClass:"uc-input-wrapper"},e._l(e.definition.options,function(t){return n("uc-radio",{key:t.guid,staticClass:"uc-single-select__radio",attrs:{readonly:e.definition.readonly,label:t.label,guid:t.guid,checked:t.guid===e.selectedOption,group:e.fieldId},on:{change:e.change}})}),1):[n("uc-select",{attrs:{readonly:e.definition.readonly,options:e.definition.options,selected:e.selectedOption,placeholder:e.definition.placeholder},on:{selected:e.change}})],e._l(e.definition.errors,function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})})],2):e._e()},Ss=[],Os={name:"definition-picker",data:function(){return{fieldId:""}},props:{name:String,definition:{type:Object,default:function(){return{options:[]}}}},computed:{selectedOption:function(){return this.definition.selected?this.definition.selected[0]:""}},components:{UcRadio:ct,UcSelect:E,feedback:vt},methods:{change:function(e){var t=bt(this.name,this.definition.guid,this.definition.label,[e.guid],this.definition.selected,"selected");this.$emit("change",t)}},created:function(){this.fieldId=P()}},ks=Os,Is=(n("57c0"),Object(p["a"])(ks,Cs,Ss,!1,null,null,null)),js=Is.exports,Ts=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.definition.options.length?n("div",{staticClass:"uc-single-select"},[n("label",{staticClass:"uc-input-label",attrs:{for:e.fieldId}},[e._v(e._s(e.definition.label))]),e.definition.options.length<6?n("div",{staticClass:"uc-input-wrapper"},e._l(e.definition.options,function(t){return n("uc-radio",{key:t.guid,staticClass:"uc-single-select__radio",attrs:{readonly:e.definition.readonly,label:t.label,guid:t.guid,checked:t.guid===e.selectedOption,group:e.fieldId},on:{change:e.change}})}),1):[n("uc-select",{attrs:{readonly:e.definition.readonly,options:e.definition.options,selected:e.selectedOption,placeholder:e.definition.placeholder},on:{selected:e.change}})],e._l(e.definition.errors,function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})})],2):e._e()},Ns=[],Ds={name:"definition-type-picker",data:function(){return{fieldId:""}},props:{name:String,definition:{type:Object,default:function(){return{options:[]}}}},computed:{selectedOption:function(){return this.definition.selected?this.definition.selected[0]:""}},components:{UcRadio:ct,UcSelect:E,feedback:vt},methods:{change:function(e){var t=bt(this.name,this.definition.guid,this.definition.label,[e],this.definition.selected,"selected");this.$emit("change",t)}},created:function(){this.fieldId=P()}},Ps=Ds,Ms=(n("fbbb"),Object(p["a"])(Ps,Ts,Ns,!1,null,null,null)),$s=Ms.exports,Ls=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-select-simple",class:{readonly:e.readonly,droppable:e.hasOptions}},[n("div",{staticClass:"uc-select-simple__selected",on:{click:e.toggleOptions}},[e._v(e._s(e.selectedText))]),e.hasOptions?n("div",{staticClass:"uc-select-simple__arrow",class:{toggled:e.optionsToggled},on:{click:e.toggleOptions}},[n("triangle")],1):e._e(),n("transition",{attrs:{name:"dropdown"}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:e.showOptions,expression:"showOptions"}],staticClass:"uc-select-simple__options dropdown-overlay"},e._l(e.filteredOptions,function(t){return n("li",{key:t.value,staticClass:"uc-select-simple__option",on:{click:function(n){return e.selectOption(t)}}},[e._v(e._s(t.text))])}),0)])],1)},Es=[],Gs={name:"uc-select-simple",data:function(){return{optionsToggled:!1}},props:{options:{type:Array},selected:String,placeholder:{Type:String,default:"Select an option"},readonly:Boolean},computed:{selectedOption:function(){var e=this;return this.options.find(function(t){return t.value===e.selected})},selectedText:function(){return this.selectedOption?this.selectedOption.text:this.placeholder},hasOptions:function(){return this.options.length>1},showOptions:function(){return this.optionsToggled&&!this.readonly&&this.hasOptions},filteredOptions:function(){var e=this;return this.options.filter(function(t){return t!==e.selectedOption})}},methods:{hide:function(){this.optionsToggled=!1},toggleOptions:function(e){var t=this;this.readonly||(e.preventDefault(),this.optionsToggled=!this.optionsToggled,this.optionsToggled&&window.setTimeout(function(){window.addEventListener("click",t.closeHandler)},10))},selectOption:function(e){this.readonly||(this.$emit("selected",e.value),this.optionsToggled=!1)},closeHandler:function(e){this.optionsToggled=!1,window.removeEventListener("click",this.closeHandler)}},components:{Triangle:D}},Hs=Gs,Ws=(n("1e86"),Object(p["a"])(Hs,Ls,Es,!1,null,null,null)),Rs=Ws.exports,Us=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-number-editor"},[n("uc-numeric-input",{attrs:{value:e.definition.value,label:e.computedLabel,placeholder:e.definition.placeholder,error:e.definition.error,readonly:e.definition.readonly},on:{blur:e.onBlur,input:e.onInput}}),e._l(e.definition.errors,function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})})],2)},zs=[],Bs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-numeric-input"},[e.label?n("label",{staticClass:"uc-numeric-input__label input-label",class:{error:e.error},attrs:{for:e.id}},[e._v(e._s(e.label))]):e._e(),n("input",{ref:"field",staticClass:"uc-numeric-input__input",attrs:{type:"number",id:e.id,disabled:e.readonly,placeholder:e.placeholder},domProps:{value:e.value},on:{input:e.emitValue,focus:function(t){return e.$emit("focus",t)},blur:function(t){return e.$emit("blur",t)}}})])},Vs=[],As={name:"uc-numeric-input",data:function(){return{id:null}},props:{label:String,placeholder:String,value:String,readonly:Boolean,error:String},methods:{emitValue:function(e){this.$emit("input",e.target.value)},focus:function(){this.$refs.field.focus()}},created:function(){this.id=P()}},Fs=As,Ys=(n("bacb"),Object(p["a"])(Fs,Bs,Vs,!1,null,"478dd40f",null)),Xs=Ys.exports,Js=function(e){if(this.definition.value!==e){var t=bt(this.name,this.definition.guid,this.definition.label,e,this.definition.value);this.$emit("change",t)}},Ks={name:"number",props:{name:String,definition:{type:Object,default:function(){return{}}},language:String},computed:{computedLabel:function(){var e=this.definition.multilingual?"(".concat(this.language,")"):"";return"".concat(this.definition.label," ").concat(e)}},components:{UcNumericInput:Xs,feedback:vt},methods:{onInput:function(e){this.emitChangeDebounced(e)},onBlur:function(e){this.emitChange(e.target.value)},emitChange:Js,emitChangeDebounced:Bi()(Js,400)}},qs=Ks,Zs=Object(p["a"])(qs,Us,zs,!1,null,null,null),Qs=Zs.exports,er=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-long-text-editor"},[n("uc-text-area",{attrs:{value:e.definition.value,label:e.computedLabel,placeholder:e.definition.placeholder,readonly:e.definition.readonly,error:e.definition.error},on:{blur:e.onBlur,input:e.onInput}}),e._l(e.definition.errors,function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})})],2)},tr=[],nr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-text-area"},[e.label?n("label",{staticClass:"uc-text-area__label input-label",class:{error:e.error},attrs:{for:e.id}},[e._v(e._s(e.label))]):e._e(),n("textarea",{staticClass:"uc-text-area__area",attrs:{rows:"5",id:e.id,disabled:e.readonly,placeholder:e.placeholder},domProps:{value:e.value},on:{input:e.emitValue,focus:function(t){return e.$emit("focus",t)},blur:function(t){return e.$emit("blur",t)}}})])},ir=[],sr={name:"uc-text-area",data:function(){return{id:null}},props:{label:String,placeholder:String,value:String,readonly:Boolean,error:String},methods:{emitValue:function(e){this.$emit("input",e.target.value)},focus:function(){this.$refs.field.focus()}},created:function(){this.id=P()}},rr=sr,or=(n("5608"),Object(p["a"])(rr,nr,ir,!1,null,null,null)),ar=or.exports,cr=function(e){if(this.definition.value!==e){var t=bt(this.name,this.definition.guid,this.definition.label,e,this.definition.value);this.$emit("change",t)}},lr={name:"long-text",props:{name:String,definition:{type:Object,default:function(){return{}}},language:String},computed:{computedLabel:function(){var e=this.definition.multilingual?"(".concat(this.language,")"):"";return"".concat(this.definition.label," ").concat(e)}},components:{UcTextArea:ar,feedback:vt},methods:{onInput:function(e){this.emitChangeDebounced(e)},onBlur:function(e){this.emitChange(e.target.value)},emitChange:cr,emitChangeDebounced:Bi()(cr,400)}},dr=lr,ur=Object(p["a"])(dr,er,tr,!1,null,null,null),hr=ur.exports,fr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("media",{attrs:{definition:e.definition,name:e.name,"multi-select":!1,language:e.language,"content-type":"media"},on:{change:e.change}})},gr=[],pr={name:"uc-media",components:{Media:Gi},props:{name:String,definition:Object,language:String},methods:{change:function(e){this.$emit("change",e)}}},mr=pr,vr=Object(p["a"])(mr,fr,gr,!1,null,"4e9ea02c",null),br=vr.exports,yr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("media",{attrs:{definition:e.definition,name:e.name,"multi-select":!0,language:e.language,"content-type":"media"},on:{change:e.change}})},wr=[],_r={name:"uc-image-picker-multi-select",components:{Media:Gi},props:{name:String,definition:Object,language:String},methods:{change:function(e){this.$emit("change",e)}}},xr=_r,Cr=Object(p["a"])(xr,yr,wr,!1,null,"85163c4a",null),Sr=Cr.exports,Or=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("media",{attrs:{definition:e.definition,name:e.name,"multi-select":!1,language:e.language,"content-type":"content"},on:{change:e.change}})},kr=[],Ir={name:"uc-content",components:{Media:Gi},props:{name:String,definition:Object,language:String},methods:{change:function(e){this.$emit("change",e)}}},jr=Ir,Tr=Object(p["a"])(jr,Or,kr,!1,null,"864129d2",null),Nr=Tr.exports,Dr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("media",{attrs:{definition:e.definition,name:e.name,"multi-select":!0,language:e.language,"content-type":"content"},on:{change:e.change}})},Pr=[],Mr={name:"uc-content-picker-multi-select",components:{Media:Gi},props:{name:String,definition:Object,language:String},methods:{change:function(e){this.$emit("change",e)}}},$r=Mr,Lr=Object(p["a"])($r,Dr,Pr,!1,null,"0623b12c",null),Er=Lr.exports,Gr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("media",{attrs:{definition:e.definition,name:e.name,"multi-select":!1,language:e.language,"content-type":"content"},on:{change:e.change}})},Hr=[],Wr={name:"uc-email-content",components:{Media:Gi},props:{name:String,definition:Object,language:String},methods:{change:function(e){this.$emit("change",e)}}},Rr=Wr,Ur=Object(p["a"])(Rr,Gr,Hr,!1,null,"1d7193b7",null),zr=Ur.exports,Br=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"flip-list"}},[n("div",{key:"error",staticClass:"form-feedback",class:e.classes},[e._t("default")],2)])},Vr=[],Ar={name:"form-feedback",props:{type:{type:String,default:ut}},computed:{classes:function(){return{info:this.type===ut,warning:this.type===ht,error:this.type===ft}}}},Fr=Ar,Yr=(n("8416"),Object(p["a"])(Fr,Br,Vr,!1,null,"4cac0a8c",null)),Xr=Yr.exports,Jr=Object(h["a"])("details"),Kr=Object(h["a"])("builder"),qr={name:"details-section",data:function(){var e=this;return{loadDetailsLocked:!1,bufferedDetailsGuid:null,currentDetailsGuid:null,typeNameMap:{productCategory:"Category",productCatalog:"Catalog"},typeDefinitionsMap:{productCategory:function(){return e.categoryDefinitions},productCatalog:function(){return e.catalogDefinitions}},confirmToggled:!1}},computed:Object(l["a"])({},Jr.mapGetters(["details","categoryDefinitions","catalogDefinitions","validationErrors"]),Kr.mapGetters(["displayedNode","dragInfo"]),Object(h["d"])(["systemInfo","languages","locale","contentLanguage"]),{meta:function(){return this.details.meta?this.details.meta:{}},name:function(){return this.details.name?this.details.name.value:""},selectedDefinition:function(){return this.meta.definition?this.meta.definition:{}},allDefinitions:function(){return this.displayedNode.nodeType?this.typeDefinitionsMap[this.displayedNode.nodeType]():[]},anyValidationErrors:function(){return Object.getOwnPropertyNames(this.validationErrors).filter(function(e){return"__ob__"!==e}).length>0},dynamicProperties:function(){var e="productCategory"===this.displayedNode.nodeType?Qi:vn,t=e.consumedProperties+["meta","sortOrder","name"];return Object.keys(this.details).filter(function(e){return!t.includes(e)})}}),watch:{displayedNode:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.dragInfo.dragging){e.next=2;break}return e.abrupt("return");case 2:if(this.displayedNode.guid){e.next=5;break}return this.setDetails(void 0),e.abrupt("return");case 5:return this.bufferedDetailsGuid=this.displayedNode.guid,e.next=8,this.getDetails();case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{FormFeedback:Xr,productCatalog:vn,productCategory:Qi,UcSelectSimple:Rs,InfoWidget:os,Boolean:un,Date:gs,DateTime:xs,Enum:xt,EnumMultiSelect:Zt,RichText:Yi,ShortText:rn,Number:Qs,LongText:hr,DefinitionPicker:js,DefinitionTypePicker:$s,Media:br,ImagePickerMultiSelect:Sr,Content:Nr,ContentPickerMultiSelect:Er,EmailContent:zr},methods:Object(l["a"])({},Jr.mapMutations(["setDetails","setCatalogDefinitions","setCategoryDefinitions","setPriceGroups","updateDetails"]),Jr.mapActions(["changeDefinition"]),Object(h["c"])(["save","delete"]),Object(h["e"])(["setContentLanguage","addUndo","clearUndos"]),{getDetailsBase:function(){return this.axios.get("".concat(q[this.displayedNode.nodeType],"/").concat(this.displayedNode.guid,"/").concat(this.contentLanguage))},getPriceGroups:function(){return"productCategory"===this.displayedNode.nodeType?new Promise(function(e){e({data:[]})}):this.axios.get("catalogs/pricegroups/".concat(this.displayedNode.guid))},getDetails:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t,n,i,s,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.loadDetailsLocked){e.next=11;break}return this.loadDetailsLocked=!0,this.currentDetailsGuid=this.displayedNode.guid,t=[this.getDetailsBase(),this.getPriceGroups()],e.next=6,Promise.all(t);case 6:n=e.sent,i=Object(Ze["a"])(n,2),s=i[0],r=i[1],this.populateDetails(s,r);case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),label:function(e){return this.details[e].label},populateDetails:function(e,t){this.loadDetailsLocked=!1,this.currentDetailsGuid===this.bufferedDetailsGuid?(this.setDetails(e.data),this.setPriceGroups(t.data)):this.getDetails()},saveChange:function(e){this.enrichCommand(e),this.save(e),this.$emit("change",e)},enrichCommand:function(e){var t=e.meta;t.contentLanguage=this.contentLanguage,t.nodeType=this.displayedNode.nodeType,t.nodeGuid=this.displayedNode.guid},toggleConfirm:function(e){var t=this;e.preventDefault(),this.confirmToggled=!this.confirmToggled,this.confirmToggled&&window.setTimeout(function(){window.addEventListener("click",t.closeHandler)},10)},deleteItem:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t,n,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.confirmToggled=!1,t=bt("deleted","cbaf8c70-639c-4716-a891-00efb0fb82bc","Is Deleted",!0,!1),n=t.meta,n.contentLanguage=this.contentLanguage,n.nodeType=this.displayedNode.nodeType,n.nodeGuid=this.displayedNode.guid,n.survivesNodeChange=!0,n.undoMessage="".concat(this.details.name.value," was deleted"),n.undoAction=function(){i.$emit("resurrected",i.displayedNode.guid)},e.next=11,this.delete(t);case 11:return e.next=13,this.$emit("deleted");case 13:this.$refs.infoWidget.hide();case 14:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),closeHandler:function(){window.removeEventListener("click",this.closeHandler),this.confirmToggled=!1},changeLanguage:function(e){this.bufferedDetailsGuid=this.displayedNode.guid,this.setContentLanguage(e),this.getDetails()},selectDefinition:function(e){var t=this.details.meta.definition?this.details.meta.definition.guid:null,n=bt("definition",Z[this.displayedNode.nodeType],"definition",e,t);this.enrichCommand(n),this.changeDefinition(n),this.$refs.definitions.hide(),this.$refs.infoWidget.hide()}}),created:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("".concat(q[X],"/definitions"));case 2:return t=e.sent,e.next=5,this.axios.get("".concat(q[J],"/definitions"));case 5:n=e.sent,this.setCatalogDefinitions(t.data),this.setCategoryDefinitions(n.data);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},Zr=qr,Qr=(n("08ff"),Object(p["a"])(Zr,Ke,qe,!1,null,"3c2bf5ce",null)),eo=Qr.exports,to=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{staticClass:"uc-undo-list",attrs:{name:"list-left",tag:"div"}},e._l(e.groups,function(t,i,s){return n("div",{key:i,staticClass:"uc-undo",class:{latest:e.isLatest(e.groups,s)}},[n("span",{domProps:{innerHTML:e._s(e.caption(t))}}),n("button",{staticClass:"btn uc-undo__btn",on:{click:function(n){return e.undoLast(t)}}},[e._v(e._s(e.buttonCaption(t)))])])}),0)},no=[],io=function(e,t){return e.reduce(function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e},{})},so={name:"undo",props:{undos:Array},computed:{groups:function(){return io(this.undos,"key")}},methods:{caption:function(e){var t=e[e.length-1].meta.undoMessage;if(t)return t;var n=e[e.length-1].meta.label;return e.length>1?"".concat(e.length," changes were saved to <strong>").concat(n,"</strong>"):"Changes were saved to <strong>".concat(n,"</strong>")},isLatest:function(e,t){return t===Object.getOwnPropertyNames(e).length-1},buttonCaption:function(e){return e.length>1?"Undo latest":"Undo"},undoLast:function(e){this.$emit("undo",e[e.length-1])}}},ro=so,oo=(n("3447"),Object(p["a"])(ro,to,no,!1,null,null,null)),ao=oo.exports,co=Object(h["a"])("builder"),lo={name:"catalogs",data:function(){return{startY:null,dragging:!1,minHeight:300}},components:{FormFeedback:Xr,CatBuilder:Je,DetailsView:eo,Undo:ao},computed:Object(l["a"])({},co.mapGetters(["sectionHeight","displayedNode"]),Object(h["d"])(["undos","errorMessage"])),methods:Object(l["a"])({},co.mapMutations(["setSectionHeight","setCurrentNodeName"]),Object(h["c"])(["undo"]),Object(h["c"])(["setErrorMessage","setNotFoundMessage"]),{onMousedown:function(e){e.preventDefault(),this.startY=e.clientY,this.dragging=!0,window.addEventListener("mousemove",this.onMousemove)},onMousemove:function(e){var t=e.clientY-this.startY;this.startY=e.clientY,this.sectionHeight<this.minHeight&&t<0||this.setSectionHeight(this.sectionHeight+t)},onMouseup:function(){this.dragging=!1,window.removeEventListener("mousemove",this.onMousemove),window.onmousemove=null},selectParent:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.builder.selectParent({clearUndo:!1});case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),detailsChanged:function(e){e.save["name"]&&this.setCurrentNodeName(e.save["name"].value)},executeUndo:function(e){this.undo(e),e.undo["name"]&&this.setCurrentNodeName(e.undo["name"].value)},reload:function(e){var t=this.$refs.builder;t.selectNodeWithGuid(e)}}),mounted:function(){var e=this;window.addEventListener("mouseup",this.onMouseup),this.axios.interceptors.response.use(function(e){return e},function(t){return 500===t.response.status?e.setErrorMessage(t.message):404===t.response.status&&e.setNotFoundMessage(),Promise.reject(t)})}},uo=lo,ho=(n("fc08"),Object(p["a"])(uo,y,w,!1,null,null,null)),fo=ho.exports;o["a"].use(b["a"]);var go,po,mo,vo,bo=new b["a"]({routes:[{path:"/",name:"catalogs",component:fo}]}),yo="setSystemInfo",wo="setContentLanguage",_o="setUiLanguage",xo="addUndo",Co="removeUndo",So="clearUndos",Oo="setErrorMessage",ko="setDetails",Io="setCatalogDefinitions",jo="setCategoryDefinitions",To="setPriceGroups",No="updateDetails",Do="setValidationErrors",Po="clearValidationErrors",Mo=(n("6db9"),function(e,t){for(var n in t){var i=e[n];if(i){var s=t[n],r=s.value,o=s.selected,a=i.validation;if(a){var c=[];if(a.required&&void 0===r&&!o&&c.push(a.errorMessage||"'".concat(i.label,"' must not be empty.")),a.regex&&!new RegExp(a.regex).test(r)&&c.push(a.errorMessage||"'".concat(i.label,"' is not in a valid format.")),c.length)return Object(Y["a"])({},n,c)}}}return null}),$o=2e4,Lo=1e4,Eo=function(e,t,n){n=n||{},e("details/".concat(Do),{save:t,errors:n}),Object.getOwnPropertyNames(n).length>0&&window.setTimeout(function(){return e("details/".concat(Po))},Lo)},Go={save:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var i,s,r,o,a,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.commit,s=t.state,r=n.save,o=n.undo,a=n.meta,i("details/".concat(No),r),c=Mo(s.details.details,r),!c){e.next=6;break}return e.abrupt("return",Eo(i,r,c));case 6:return e.prev=6,e.next=9,this._vm.axios.patch("".concat(q[a.nodeType],"/").concat(a.nodeGuid,"/").concat(a.contentLanguage),r);case 9:l=e.sent,Eo(i,r,l.data),e.next=20;break;case 13:if(e.prev=13,e.t0=e["catch"](6),!e.t0.response||400!==e.t0.response.status){e.next=19;break}return e.abrupt("return",Eo(i,r,e.t0.response.data));case 19:throw e.t0;case 20:o&&(i(xo,n),window.setTimeout(function(){i("removeUndo",n)},$o));case 21:case"end":return e.stop()}},e,this,[[6,13]])}));function t(t,n){return e.apply(this,arguments)}return t}(),moveCat:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var i,s,r,o,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,s=n.save,r=n.undo,o=n.meta,e.prev=2,e.next=5,this._vm.axios.patch("".concat(q[o.nodeType],"/").concat(o.nodeGuid,"/").concat(o.contentLanguage),s);case 5:a=e.sent,Eo(i,s,a.data),e.next=16;break;case 9:if(e.prev=9,e.t0=e["catch"](2),!e.t0.response||400!==e.t0.response.status){e.next=15;break}return e.abrupt("return",Eo(i,s,e.t0.response.data));case 15:throw e.t0;case 16:r&&(i(xo,n),window.setTimeout(function(){i("removeUndo",n)},$o));case 17:case"end":return e.stop()}},e,this,[[2,9]])}));function t(t,n){return e.apply(this,arguments)}return t}(),undo:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var i,s,r,o,a,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.commit,s=t.state,r=n.undo,o=n.meta,i("details/".concat(No),r),a=Mo(s.details.details,r),!a){e.next=6;break}return e.abrupt("return",Eo(i,r,a));case 6:return i(Co,n),e.prev=7,e.next=10,this._vm.axios.patch("".concat(q[o.nodeType],"/").concat(o.nodeGuid,"/").concat(o.contentLanguage),r);case 10:c=e.sent,Eo(i,r,c.data),e.next=21;break;case 14:if(e.prev=14,e.t0=e["catch"](7),!e.t0.response||400!==e.t0.response.statu){e.next=20;break}return e.abrupt("return",Eo(i,r,e.t0.response.data));case 20:throw e.t0;case 21:o.undoAction&&o.undoAction();case 22:case"end":return e.stop()}},e,this,[[7,14]])}));function t(t,n){return e.apply(this,arguments)}return t}(),delete:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var i,s,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,s=n.undo,r=n.meta,s&&i(xo,n),e.next=5,this._vm.axios.delete("".concat(q[r.nodeType],"/").concat(r.nodeGuid));case 5:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),setErrorMessage:function(e,t){var n=e.commit;n(Oo,"Something went wrong on the web server. ".concat(t)),window.setTimeout(function(){n(Oo,null)},Lo)},setNotFoundMessage:function(e){var t=e.commit;t(Oo,"A resource we were looking for was not found."),window.setTimeout(function(){t(Oo,null)},Lo)}},Ho=Go,Wo=(go={},Object(Y["a"])(go,yo,function(e,t){e.systemInfo=t}),Object(Y["a"])(go,wo,function(e,t){e.contentLanguage=t}),Object(Y["a"])(go,_o,function(e,t){e.uiLanguage=t}),Object(Y["a"])(go,xo,function(e,t){e.undos.push(t)}),Object(Y["a"])(go,So,function(e){e.undos=e.undos.filter(function(e){return e.meta.survivesNodeChange})}),Object(Y["a"])(go,Co,function(e,t){e.undos=e.undos.filter(function(e){return e!==t})}),Object(Y["a"])(go,Oo,function(e,t){e.errorMessage=t}),go),Ro=Wo,Uo={systemInfo:function(e){return e.systemInfo},languages:function(e){return 0===e.systemInfo.languages.length?e.systemInfo.languages:e.systemInfo.languages.map(function(e){return{text:e.name,value:e.cultureCode}})},uiLanguage:function(e){return e.uiLanguage},contentLanguage:function(e){return e.contentLanguage},undos:function(e){return e.undos},errorMessage:function(e){return e.errorMessage}},zo=Uo,Bo={},Vo=Bo,Ao=n("75fc"),Fo="setSectionsInTree",Yo="selectNode",Xo="resetDisplayedNode",Jo="setSectionWidth",Ko="setSectionHeight",qo="setDragInfo",Zo="endDrag",Qo="setDragSectionGuid",ea="moveDraggedNode",ta="setSelectedStore",na="setStores",ia="addItemsToSectionInTree",sa="setCurrentNodeName",ra=(po={},Object(Y["a"])(po,Fo,function(e,t){var n=t.position,i=t.cat,s=t.elements,r=t.categoriesCount;n<0&&(e.treeSections=[]);var o=Object(l["a"])({categories:s,position:n,endOfList:s.length>=r||0===s.length,categoriesCount:r},i);e.displayedNode.hasChildren=o.categories.length>0,n!==e.treeSections.length?(e.treeSections[n]=o,e.treeSections=e.treeSections.slice(0,n+1)):e.treeSections.push(o)}),Object(Y["a"])(po,ia,function(e,t){var n=t.cat,i=t.elements,s=t.categoriesCount;n.categoriesCount=s,n.categories=[].concat(Object(Ao["a"])(n.categories),Object(Ao["a"])(i)),n.endOfList=n.categories>=s||0===i.length}),Object(Y["a"])(po,Yo,function(e,t){var n=t.parentGuid,i=t.catGuid,s=n?e.treeSections.find(function(e){return e.guid===n}):e.treeSections[0];s.categories.forEach(function(t){t.guid===i?(t.selected=!0,t.displaying=!0,e.displayedNode!==t&&(e.displayedNode.displaying=!1),e.displayedNode=t):t.selected=!1})}),Object(Y["a"])(po,Xo,function(e){e.displayedNode={}}),Object(Y["a"])(po,Jo,function(e,t){e.sectionWidth=t}),Object(Y["a"])(po,Ko,function(e,t){e.sectionHeight=t}),Object(Y["a"])(po,qo,function(e,t){e.dragInfo=t}),Object(Y["a"])(po,Qo,function(e,t){e.dragInfo.currentSectionGuid=t}),Object(Y["a"])(po,Zo,function(e){e.dragInfo.dragging=!1}),Object(Y["a"])(po,ea,function(e,t){var n=t.parentGuid,i=t.newIndex,s=e.treeSections.find(function(t){return t.guid===e.dragInfo.parentGuid}),r=e.treeSections.find(function(e){return e.guid===n});(r||s)&&(r?s?-1===i?r.categories.push(s.categories.splice(e.dragInfo.catIndex,1)[0]):r.categories.splice(i,0,s.categories.splice(e.dragInfo.catIndex,1)[0]):-1===i?r.categories.push(e.dragInfo.node):r.categories.splice(i,0,e.dragInfo.node):s.categories.splice(e.dragInfo.catIndex,1))}),Object(Y["a"])(po,ta,function(e,t){e.selectedStore=t.guid}),Object(Y["a"])(po,na,function(e,t){e.stores=t}),Object(Y["a"])(po,sa,function(e,t){e.displayedNode.name=t;var n=e.treeSections[e.treeSections.length-1];n&&(n.name=t)}),po),oa=ra,aa={treeSections:function(e){return e.treeSections},sectionWidth:function(e){return e.sectionWidth},sectionHeight:function(e){return e.sectionHeight},dragInfo:function(e){return e.dragInfo},displayedNode:function(e){return e.displayedNode},displayedNodePosition:function(e){var t={section:0,index:0},n=e.treeSections.length;while(n--){var i=e.treeSections[n].categories.findIndex(function(e){return e.displaying});if(i>-1)return t.section=n,t.index=i,t}return t},selectedCatalog:function(e){return e.treeSections[0]?e.treeSections[0].categories.find(function(e){return e.selected}):{}},selectedStore:function(e){return e.selectedStore},stores:function(e){return e.stores}},ca=aa,la={state:{treeSections:[],sectionWidth:280,sectionHeight:320,displayedNode:{},dragInfo:{node:null,parent:null,index:NaN,initPosition:{},dragging:!1},stores:[],selectedStore:null,undos:[]},getters:ca,mutations:oa,actions:Vo,strict:!1},da={changeDefinition:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var i,s,r,o,a,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,s=t.dispatch,r=n.meta,o=n.save,a=n.undo,e.next=4,this._vm.axios.patch("".concat(q[r.nodeType],"/").concat(r.nodeGuid,"/").concat(r.contentLanguage),o);case 4:return e.next=6,this._vm.axios.get("".concat(q[r.nodeType],"/").concat(r.nodeGuid,"/").concat(r.contentLanguage));case 6:c=e.sent,i(ko,c.data),a&&(r.undoAction=function(){s("changeDefinition",{meta:n.meta,save:n.undo})},i(xo,n,{root:!0}),window.setTimeout(function(){i("removeUndo",n,{root:!0})},2e4));case 9:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},ua=da,ha=(mo={},Object(Y["a"])(mo,ko,function(e,t){e.details=t}),Object(Y["a"])(mo,Io,function(e,t){e.catalogDefinitions=t}),Object(Y["a"])(mo,jo,function(e,t){e.categoryDefinitions=t}),Object(Y["a"])(mo,To,function(e,t){e.priceGroups=t}),Object(Y["a"])(mo,No,function(e,t){for(var n in t){var i=e.details[n];i&&(i.value=t[n].value,i.selected=t[n].selected,i.mediaUrl=t[n].mediaUrl,i.mediaName=t[n].mediaName)}}),Object(Y["a"])(mo,Do,function(e,t){var n=t.errors,i=t.save;for(var s in e.validationErrors=n,e.details)if(i[s]){var r=e.details[s];r===Object(r)&&o["a"].set(r,"errors",null)}for(var a in n){var c=e.details[a];c===Object(c)&&o["a"].set(c,"errors",n[a])}}),Object(Y["a"])(mo,Po,function(e){e.validationErrors={}}),mo),fa=ha,ga={details:function(e){return e.details},categoryDefinitions:function(e){return e.categoryDefinitions.map(function(e){return{text:e.name,value:e.guid}})},catalogDefinitions:function(e){return e.catalogDefinitions.map(function(e){return{text:e.name,value:e.guid}})},priceGroups:function(e){return e.priceGroups.map(function(e){return{text:e.name,value:e.guid}})},validationErrors:function(e){return e.validationErrors}},pa=ga,ma={state:{details:{},catalogDefinitions:[],categoryDefinitions:[],priceGroups:[],validationErrors:{}},getters:pa,mutations:fa,actions:ua,strict:!1},va={},ba=va,ya="setSectionsInTree",wa="selectNode",_a="resetDisplayedNode",xa="setSectionWidth",Ca="setSectionHeight",Sa="addItemsToSectionInTree",Oa="setSelectedItems",ka="toggleSelectedItem",Ia=(vo={},Object(Y["a"])(vo,ya,function(e,t){var n=t.position,i=t.cat,s=t.elements,r=t.allElements,o=t.categoriesCount;n<0&&(e.treeSections=[]);var a=Object(l["a"])({categories:s,allCategories:r,position:n,endOfList:s.length>=o||0===s.length,categoriesCount:o},i);e.displayedNode.hasChildren=a.categories.length>0,n!==e.treeSections.length?(e.treeSections[n]=a,e.treeSections=e.treeSections.slice(0,n+1)):e.treeSections.push(a)}),Object(Y["a"])(vo,Sa,function(e,t){var n=t.cat,i=t.elements,s=t.categoriesCount;n.categoriesCount=s,n.categories=[].concat(Object(Ao["a"])(n.categories),Object(Ao["a"])(i)),n.endOfList=n.categories>=s||0===i.length}),Object(Y["a"])(vo,wa,function(e,t){var n=t.parentGuid,i=t.catGuid,s=n?e.treeSections.find(function(e){return e.guid===n}):e.treeSections[0];s.categories.forEach(function(t){t.guid===i?(t.selected=!0,t.displaying=!0,e.displayedNode!==t&&(e.displayedNode.displaying=!1),e.displayedNode=t):t.selected=!1})}),Object(Y["a"])(vo,_a,function(e){e.displayedNode={}}),Object(Y["a"])(vo,xa,function(e,t){e.sectionWidth=t}),Object(Y["a"])(vo,Ca,function(e,t){e.sectionHeight=t}),Object(Y["a"])(vo,Oa,function(e,t){e.selectedItems=t.filter(function(e){return e&&""!==e})}),Object(Y["a"])(vo,ka,function(e,t){e.selectedItems.find(function(e){return e===t})?e.selectedItems=e.selectedItems.filter(function(e){return e!==t}):e.selectedItems.push(t)}),vo),ja=Ia,Ta={treeSections:function(e){return e.treeSections},sectionWidth:function(e){return e.sectionWidth},sectionHeight:function(e){return e.sectionHeight},displayedNode:function(e){return e.displayedNode},displayedNodePosition:function(e){var t={section:0,index:0},n=e.treeSections.length;while(n--){var i=e.treeSections[n].categories.findIndex(function(e){return e.displaying});if(i>-1)return t.section=n,t.index=i,t}return t},selectedCatalog:function(e){return e.treeSections[0]?e.treeSections[0].categories.find(function(e){return e.selected}):{}},selectedItems:function(e){return e.selectedItems}},Na=Ta,Da={state:{treeSections:[],selectedItems:[],sectionWidth:280,sectionHeight:320,displayedNode:{},undos:[]},getters:Na,mutations:ja,actions:ba,strict:!1};o["a"].use(h["b"]);var Pa=new h["b"].Store({state:{systemInfo:{languages:[]},contentLanguage:void 0,uiLanguage:void 0,undos:[],errorMessage:void 0},getters:zo,mutations:Ro,actions:Ho,modules:{builder:Object(l["a"])({namespaced:!0},la),details:Object(l["a"])({namespaced:!0},ma),navigator:Object(l["a"])({namespaced:!0},Da)},strict:!1}),Ma=n("74d6"),$a=n.n(Ma);o["a"].config.productionTip=!1;var La=$a.a.create({baseURL:"/ucommerceapi/v2/"});o["a"].prototype.axios=La,o["a"].filter("format",function(e,t,n){return e?(e=e.toString(),Object(ds["a"])(e,t,ds["b"][n])):""}),new o["a"]({router:bo,store:Pa,render:function(e){return e(v)}}).$mount("#app")},"1e86":function(e,t,n){"use strict";var i=n("e272"),s=n.n(i);s.a},2113:function(e,t,n){},"23fb":function(e,t,n){"use strict";var i=n("509e"),s=n.n(i);s.a},"24d2":function(e,t,n){},"296a":function(e,t,n){"use strict";var i=n("f826"),s=n.n(i);s.a},"2dcc":function(e,t,n){},"30b2":function(e,t,n){"use strict";n.d(t,"b",function(){return r});var i=n("70f2"),s=n.n(i);n.d(t,"a",function(){return s.a});var r={en:n("52cf"),da:n("eeea"),sv:n("8718"),de:n("6e0c")}},"30ba":function(e,t,n){},"340f":function(e,t,n){"use strict";var i=n("3e62"),s=n.n(i);s.a},3447:function(e,t,n){"use strict";var i=n("614a"),s=n.n(i);s.a},"3d3f":function(e,t,n){},"3e62":function(e,t,n){},"3f2a":function(e,t,n){},4214:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"}},[n("g",[n("path",{attrs:{d:"M32,18.133V13.867l-4.593-.574a11.652,11.652,0,0,0-1.428-3.442L28.822,6.2,25.805,3.178,22.149,6.021a11.652,11.652,0,0,0-3.442-1.428L18.133,0H13.867l-.574,4.593A11.652,11.652,0,0,0,9.851,6.021L6.2,3.178,3.178,6.2,6.021,9.851a11.652,11.652,0,0,0-1.428,3.442L0,13.867v4.266l4.593.574a11.652,11.652,0,0,0,1.428,3.442L3.178,25.805,6.2,28.822l3.656-2.843a11.652,11.652,0,0,0,3.442,1.428L13.867,32h4.266l.574-4.593a11.652,11.652,0,0,0,3.442-1.428l3.656,2.843,3.017-3.017-2.843-3.656a11.652,11.652,0,0,0,1.428-3.442ZM16,21a5,5,0,1,1,5-5A5,5,0,0,1,16,21Z"}})])])},s=[],r=n("2877"),o={},a=Object(r["a"])(o,i,s,!1,null,null,null);t["a"]=a.exports},4962:function(e,t,n){},"4abd":function(e,t,n){"use strict";var i=n("1372"),s=n.n(i);s.a},"4fc4":function(e,t,n){"use strict";var i=n("13c3"),s=n.n(i);s.a},"4fd7":function(e,t,n){},"509e":function(e,t,n){},"525a":function(e,t,n){"use strict";var i=n("88ec"),s=n.n(i);s.a},5391:function(e,t,n){},5477:function(e,t,n){"use strict";var i=n("fe23"),s=n.n(i);s.a},"552b":function(e,t,n){"use strict";var i=n("3d3f"),s=n.n(i);s.a},"55c7":function(e,t,n){},5608:function(e,t,n){"use strict";var i=n("55c7"),s=n.n(i);s.a},"57c0":function(e,t,n){"use strict";var i=n("de21"),s=n.n(i);s.a},"5cbe":function(e,t,n){},"614a":function(e,t,n){},6536:function(e,t,n){"use strict";var i=n("1083"),s=n.n(i);s.a},6911:function(e,t,n){},"6a7f":function(e,t,n){},"6a8b":function(e,t,n){},"6b29":function(e,t,n){"use strict";var i=n("5391"),s=n.n(i);s.a},"6bd4":function(e,t,n){},"72c9":function(e,t,n){"use strict";var i=n("80a5"),s=n.n(i);s.a},"7d9a":function(e,t,n){"use strict";var i=n("6bd4"),s=n.n(i);s.a},"80a5":function(e,t,n){},8416:function(e,t,n){"use strict";var i=n("df6f"),s=n.n(i);s.a},"88ec":function(e,t,n){},"8cf8":function(e,t,n){"use strict";var i=n("2113"),s=n.n(i);s.a},"8d7e":function(e,t,n){},9453:function(e,t,n){},9630:function(e,t,n){},a4f4:function(e,t,n){"use strict";var i=n("e29a"),s=n.n(i);s.a},a768:function(e,t,n){"use strict";var i=n("dc37"),s=n.n(i);s.a},a970:function(e,t,n){"use strict";var i=n("9453"),s=n.n(i);s.a},aea4:function(e,t,n){"use strict";var i=n("6a8b"),s=n.n(i);s.a},b19a:function(e,t,n){"use strict";var i=n("8d7e"),s=n.n(i);s.a},b420:function(e,t,n){"use strict";var i=n("4962"),s=n.n(i);s.a},b712:function(e,t,n){},bacb:function(e,t,n){"use strict";var i=n("c95b"),s=n.n(i);s.a},c696:function(e,t,n){"use strict";var i=n("d67f"),s=n.n(i);s.a},c95b:function(e,t,n){},cef3:function(e,t,n){"use strict";var i=n("6911"),s=n.n(i);s.a},d67f:function(e,t,n){},d6b8:function(e,t,n){},dc37:function(e,t,n){},de21:function(e,t,n){},df6f:function(e,t,n){},df70:function(e,t,n){},e272:function(e,t,n){},e29a:function(e,t,n){},e496:function(e,t,n){"use strict";var i=n("4fd7"),s=n.n(i);s.a},e9eb:function(e,t,n){"use strict";var i=n("b712"),s=n.n(i);s.a},eadf:function(e,t,n){"use strict";var i=n("df70"),s=n.n(i);s.a},ec82:function(e,t,n){"use strict";var i=n("9630"),s=n.n(i);s.a},ef2d:function(e,t,n){"use strict";var i=n("6a7f"),s=n.n(i);s.a},f0d6:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{viewBox:"0 0 18 15",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"m1.6 8 4.3 4.2 10.5-10.4",fill:"none","stroke-width":"3"}})])},s=[],r=n("2877"),o={},a=Object(r["a"])(o,i,s,!1,null,null,null);t["a"]=a.exports},f146:function(e,t,n){"use strict";var i=n("d6b8"),s=n.n(i);s.a},f3c6:function(e,t,n){},f826:function(e,t,n){},fbbb:function(e,t,n){"use strict";var i=n("30ba"),s=n.n(i);s.a},fc08:function(e,t,n){"use strict";var i=n("24d2"),s=n.n(i);s.a},fe23:function(e,t,n){},feb9:function(e,t,n){"use strict";var i=n("f3c6"),s=n.n(i);s.a}});
//# sourceMappingURL=catalogs.2beb47da.js.map